import{_ as T}from"./qKLLgZOX.js";import{_ as $}from"./CuRHY0aD.js";import{_ as z}from"./2WVDaFKk.js";import{_ as M,x as H,r as B,G as D,g as E,p as F,P as U,f as j,c as C,o as e,z as x,j as o,m as a,k as _,t as g,y as l,F as q,L as G,B as f,l as k,Q as O,D as Q}from"./Pd6RrLp1.js";import{u as J}from"./0zS85Q81.js";const K={key:0,class:"trade-in-modal"},W={key:0},X={class:"trade-in-modal_content"},Y={key:0,class:"trade-in-modal_title"},Z={class:"trade-in-modal_list"},tt={class:"trade-in-modal_list-item-title"},et=["innerHTML"],at={class:"trade-in-modal_buttons"},ot={key:1},nt={key:1,class:"trade-in-modal"},st={__name:"trade-in-modal-content",props:{hasPreloadedBlocks:{type:Array,default:()=>[]},isCartPage:{type:Boolean,default:!1},isProductPage:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["input","start-trade-in"],async setup(y,{emit:V}){let u,P;const r=y,m=V,h=H(()=>r.modelValue),{getSanitizeHtml:L}=J(),n=B(null),v=B(!1),R=D(),A=E(),b=t=>{m("input",!1),R.push(A.$localeRoute({path:t}))},N=()=>{b("/pages/trade-in")},S=()=>{r.isProductPage?(m("input",!1),m("start-trade-in")):(m("start-trade-in"),b(r.isCartPage?"/checkout":"/pages/trade-in"))};try{const t=r.hasPreloadedBlocks.length?r.hasPreloadedBlocks:([u,P]=F(()=>U.getAggregatePageBySlug("trade-in").then(c=>{var s,p;return(p=(s=c.data)==null?void 0:s.data)==null?void 0:p.blocks})),u=await u,P(),u),d=t==null?void 0:t.find(c=>{var s;return((s=c.content)==null?void 0:s.component)==="stage"});d&&(n.value={...d.content.data})}catch(t){console.log(t)}finally{v.value=!0}return(t,d)=>{const c=j("ui-btn"),s=T,p=$,w=z;return e(),C(w,O({modelValue:a(h),"onUpdate:modelValue":d[0]||(d[0]=i=>Q(h)?h.value=i:null)},{...t.$attrs},{"max-width":1024,"with-padding":""}),{default:x(()=>[a(v)?(e(),o("div",K,[a(n)?(e(),o("div",W,[_("div",X,[a(n).title?(e(),o("h2",Y,l(a(n).title),1)):g("",!0),_("ul",Z,[(e(!0),o(q,null,G(a(n).stage,(i,I)=>(e(),o("li",{key:i.id,class:"trade-in-modal_list-item"},[_("p",tt,l(I+1)+". "+l(i.description),1),i.subdescription?(e(),o("p",{key:0,innerHTML:a(L)(i.subdescription)},null,8,et)):g("",!0)]))),128))]),a(n).btnRequest?(e(),C(c,{key:1,url:a(n).btnLink,size:"l",class:"btn"},{default:x(()=>[f(l(a(n).btnName),1)]),_:1},8,["url"])):g("",!0)]),_("div",at,[y.isProductPage?(e(),o("button",{key:0,class:"trade-in-modal_button",onClick:N},[f(l(t.$t("learn_about_tradein"))+" ",1),k(s,{icon:"chevronRightIcon"})])):g("",!0),_("button",{class:"trade-in-modal_button",onClick:S},[f(l(t.$t("start_tradein"))+" ",1),k(s,{icon:"chevronRightIcon"})])])])):(e(),o("div",ot,"Empty"))])):(e(),o("div",nt,[k(p)]))]),_:1},16,["modelValue"])}}},_t=M(st,[["__scopeId","data-v-5e522302"]]);export{_t as _};
