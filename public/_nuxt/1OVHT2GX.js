import{_ as A}from"./qKLLgZOX.js";import{u as M,a as S,o as H}from"./T4kW5CUp.js";import{T,d as D,b as G,r as w,x as R,w as z,j as a,o as l,c as B,t as o,k as y,l as W,B as g,y as n,m as d,F as k,L as O,Q as j,O as C,W as q,X as F,_ as Q}from"./Pd6RrLp1.js";const U="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%3e%3cg%20id='icon/check'%3e%3cpath%20id='Vector'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20.4173%2013.1973C20.4855%2013.2655%2020.5238%2013.358%2020.5238%2013.4544C20.5238%2013.5508%2020.4855%2013.6433%2020.4173%2013.7115L14.6428%2019.486C14.5746%2019.5542%2014.4821%2019.5925%2014.3857%2019.5925C14.2892%2019.5925%2014.1968%2019.5542%2014.1286%2019.486L11.7475%2017.1042C11.7128%2017.0707%2011.6851%2017.0305%2011.666%2016.9862C11.6469%2016.9418%2011.6369%2016.8941%2011.6365%2016.8458C11.6361%2016.7975%2011.6453%2016.7496%2011.6636%2016.7049C11.6818%2016.6603%2011.7088%2016.6197%2011.743%2016.5855C11.7771%2016.5514%2011.8177%2016.5244%2011.8624%2016.5061C11.9071%2016.4878%2011.955%2016.4786%2012.0033%2016.479C12.0516%2016.4794%2012.0993%2016.4895%2012.1436%2016.5085C12.188%2016.5276%2012.2281%2016.5553%2012.2617%2016.59L14.3868%2018.7151L19.9039%2013.1973C19.972%2013.1291%2020.0645%2013.0908%2020.1609%2013.0908C20.2574%2013.0908%2020.3498%2013.1291%2020.418%2013.1973H20.4173Z'%20fill='%230071E3'%20/%3e%3c/g%3e%3c/svg%3e",X=()=>{const r=T("scrollPos");return{getPosition:(_,p,b)=>{const s=_==null?void 0:_.getBoundingClientRect(),m=p==null?void 0:p.getBoundingClientRect(),v=(r==null?void 0:r.value)||(s==null?void 0:s.y)||0,c=(s==null?void 0:s.bottom)||0,h=window.innerHeight||0,u=(m==null?void 0:m.height)||0,I=u+c+10;if(h-I<0){if(r!=null&&r.value){const f=(s==null?void 0:s.height)||0;return{top:`${c-f-u-10}px`,width:`${s==null?void 0:s.width}px`,left:`${s==null?void 0:s.x}px`}}return{top:`${v-u-10}px`,width:`${s==null?void 0:s.width}px`,left:`${s==null?void 0:s.x}px`}}return{top:`${c+10}px`,width:`${s==null?void 0:s.width}px`,left:`${s==null?void 0:s.x}px`}}}},Z={key:1,class:"select_label"},J=["value"],K=["value","onClick"],Y={key:0},x=["onMousedown"],E={class:"select_item-text"},ee={key:0,class:"select_item-subtitle"},se={key:1,class:"select_item-description"},te={key:1,src:U,class:"select_item-arrow"},le={key:3,class:"text-input_errors"},ae=D({__name:"UiSelect",props:{label:{},options:{},icon:{},modelValue:{},errors:{},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},ellipsis:{type:Boolean},showItemLabel:{type:Boolean,default:!1},small:{type:Boolean},showActiveIcon:{type:Boolean,default:!0},dropdownClassName:{default:""},scrollPos:{}},emits:["update:modelValue"],setup(r,{emit:N}){const _=N,{t:p}=G(),{getPosition:b}=X(),i=w(!1),{width:s}=M(),{y:m}=S(),v=w(null),c=w(null);H(v,()=>i.value=!1);const h=w({}),u=T("scrollPos"),I=R(()=>b(v.value,c.value,h.value));return z([s,m,u==null?void 0:u.value],()=>{i.value&&(h.value=b(v.value,c.value,h.value))}),(t,f)=>{var V,$;const P=A;return l(),a("div",{class:C(["select",{opened:d(i),error:(V=t.errors)==null?void 0:V.length,"select__with-icon":t.icon}])},[t.icon?(l(),B(P,{key:0,class:"select_with-icon",icon:t.icon},null,8,["icon"])):o("",!0),t.label?(l(),a("label",Z,[g(n(d(p)(t.label)),1),t.required?(l(),a(k,{key:0},[g("*")],64)):o("",!0)])):o("",!0),y("select",j({...t.$attrs},{class:"select_input",value:t.modelValue}),[(l(!0),a(k,null,O(t.options,e=>(l(),a("option",{key:e.value,value:e.value,class:"select_option",onClick:L=>_("update:modelValue",e.value)},[g(n(e.label)+" ",1),e!=null&&e.description?(l(),a("div",Y,n(e.description),1)):o("",!0)],8,K))),128))],16,J),y("div",{ref_key:"selectRef",ref:v,class:C(["select_fake-input",{disabled:t.disabled,ellipsis:t.ellipsis,small:t.small}]),onClick:f[0]||(f[0]=e=>i.value=!d(i))},n(t.showItemLabel?($=t.options.find(e=>e.value===t.modelValue))==null?void 0:$.label:t.modelValue),3),W(P,{class:"select_arrow",icon:"chevronIcon"}),d(i)?(l(),B(F,{key:2,to:"body"},[y("div",{ref_key:"dropdown",ref:c,class:C({select_dropdown:!0,"select_dropdown__with-active-icon":t.showActiveIcon,[t.dropdownClassName]:!0,ellipsis:t.ellipsis,small:t.small,select_dropdown__open:d(i)}),style:q({...d(I),...d(h)})},[(l(!0),a(k,null,O(t.options,e=>(l(),a("div",{key:e.value,class:C(["select_item",{active:t.modelValue===e.value}]),onMousedown:L=>_("update:modelValue",e.value)},[e!=null&&e.icon?(l(),B(P,{key:0,class:"select_item-icon",icon:e==null?void 0:e.icon},null,8,["icon"])):o("",!0),y("div",E,[e!=null&&e.subtitle?(l(),a("span",ee,n(e.subtitle),1)):o("",!0),g(" "+n(e.label)+" ",1),e!=null&&e.description?(l(),a("span",se,n(e.description),1)):o("",!0)]),t.showActiveIcon?(l(),a("img",te)):o("",!0)],42,x))),128))],6)])):o("",!0),t.errors?(l(),a("div",le,[(l(!0),a(k,null,O(t.errors,e=>(l(),a("span",{key:e},n(e),1))),128))])):o("",!0)],2)}}}),re=Q(ae,[["__scopeId","data-v-00d29936"]]);export{re as _,X as u};
