import{_ as O}from"./BrwUmeBJ.js";import{_ as x}from"./BJt_w7Hb.js";import{_ as w,x as y,j as i,o as n,k as g,W as B,O as _,m as C,d as M,F as K,L as H,av as J,r as L,b as Q,T as R,t as v,l as P,z as D,c as X,y as d,B as Y,a8 as Z,ae as ee,q as re}from"./Pd6RrLp1.js";import{_ as te}from"./CAC9vlZT.js";import{u as ae}from"./C3MdYnyV.js";import{u as oe}from"./BSts32E-.js";const ce={__name:"product-card-color",props:{color:{type:String,default:""},stroke:{type:String,default:null}},setup(s){const l=s,m=y(()=>l.color.split(",").length>1?`background: linear-gradient(to right, ${l.color.split(",")[0]}, ${l.color.split(",")[1]})`:"background-color: "+l.color);return(e,$)=>(n(),i("div",null,[g("span",{class:_(["color-circle",{"color-circle__white":s.color==="#FFFFFF"}]),style:B(C(m))},null,6)]))}},le=w(ce,[["__scopeId","data-v-10590619"]]),ue=M({name:"ProductCardColorList",components:{ProductCardColor:le},props:{colors:{type:Array,required:!0},activeColor:{type:String,default:null},isListItemColor:{type:Boolean,default:!1},small:{type:Boolean,default:!1}}}),ne=["onClick"];function se(s,l,m,e,$,F){return n(),i("div",{class:_(["color-list",{"color-list__small":s.small}])},[(n(!0),i(K,null,H(s.colors,(c,k)=>(n(),i("div",{key:k,class:_(["color-list_color-wrapper",{"color-list_color-wrapper__active":c.sku===s.activeColor,"color-list_color-wrapper__empty":!c.color||!c}]),onClick:b=>s.$emit("change-product",c.sku)},[c.color.split(",").length>1?(n(),i("span",{key:0,class:_(["color-list_color",{"color-list_circle__white":c.color==="#FFFFFF"}]),style:B({backgroundImage:`linear-gradient(to right, ${c.color.split(",")[0]}, ${c.color.split(",")[1]})`})},null,6)):(n(),i("span",{key:1,class:_(["color-list_color",{"color-list_circle__white":(c==null?void 0:c.color)==="#FFFFFF"}]),style:B({background:(c==null?void 0:c.color)||"#cecbcb"})},null,6))],10,ne))),128))],2)}const ie=w(ue,[["render",se],["__scopeId","data-v-35b40444"]]),de={class:"carousel-product_badge"},pe={key:0},ve={class:"carousel-product_price-wrapper"},_e={key:0,class:"carousel-product_action-price"},fe={key:1,class:"carousel-product_action-price"},ye={class:"carousel-product_price"},me={key:2,class:"carousel-product_discount"},ke={key:2,class:"carousel-product_credit-text"},he={__name:"carousel-product",props:{product:{type:Object,required:!0},addToCart:{type:Boolean,default:!1},showColor:{type:Boolean,default:!1},small:{type:Boolean,default:!1}},setup(s){var N;const l=s,{camelizeKeys:m}=J,e=L(m({...l.product})),{addProductToCart:$}=ae(),{formatPriceWithSpaces:F}=oe(),{t:c}=Q(),k=L(((N=e.value)==null?void 0:N.sku)||""),b=y(()=>{var r;return((r=e.value)==null?void 0:r.isAddToCart)||l.addToCart}),S=y(()=>{var r,a,o;return((r=e.value)==null?void 0:r.finalPrice)&&b.value&&(((a=e.value)==null?void 0:a.realNpiState)||((o=e.value)==null?void 0:o.realStock)>0)}),A=y(()=>{var r,a,o,u,p,f,t,h;return e.value.photoUrl?e.value.photoUrl:(r=e.value)!=null&&r.variations&&((o=(a=e.value)==null?void 0:a.variations[0])!=null&&o.images[0])?(p=(u=e.value)==null?void 0:u.variations[0])==null?void 0:p.images[0]:(t=(f=e.value)==null?void 0:f.images)!=null&&t[0].url?(h=l.product)==null?void 0:h.images[0].url:""}),E=(r,a)=>{a==null||a.forEach(o=>{const u=o.color?o.color:"#cecbcb";r.push({color:u,disabled:!1,sku:o.sku,stock:l.product.real_stock||l.product.realStock})})},U=r=>{var a,o,u,p;if(r===l.product.sku){k.value=r,e.value=m({...l.product}),e.value.photoUrl=(o=(a=l.product)==null?void 0:a.variations[0])==null?void 0:o.images[0];return}(p=(u=e.value)==null?void 0:u.similarProducts)==null||p.forEach(f=>{if(f.sku===r){const t=m(f);k.value=t==null?void 0:t.sku,e.value.slug=t==null?void 0:t.slug,e.value.crmId=t==null?void 0:t.crmId,e.value.photoUrl=t==null?void 0:t.photoUrl,e.value.finalPrice=t==null?void 0:t.finalPrice,e.value.price=t==null?void 0:t.price,e.value.priceCat4=t==null?void 0:t.priceCat4,e.value.realStock=t==null?void 0:t.stock,e.value.creditsData=t==null?void 0:t.creditsData}})},I=y(()=>{var a,o;const r=[];return l.showColor&&((o=(a=e.value)==null?void 0:a.similarProducts)==null||o.forEach(u=>{r.push({...u,disabled:!!u.color})}),r.length||E(r,e.value.variations)),r}),z=y(()=>{var r,a,o,u,p;return(r=e.value)!=null&&r.finalPrice?b.value?((a=e.value)==null?void 0:a.realStock)>0||(o=e.value)!=null&&o.realNpiState?c("add_to_cart"):c("notify_me"):(u=e.value)!=null&&u.realNpiState?c("preorder"):((p=e.value)==null?void 0:p.realStock)>0?c("buy_now"):c("notify_me"):c("cooming_soon")}),V=R("toggleCartWidget"),W=()=>{if(S.value){$(e.value),V(!0,!0);return}},j=y(()=>{var r,a,o;return((r=e.value)==null?void 0:r.realStock)&&((a=e.value)==null?void 0:a.finalPrice)&&e.value.creditsData&&((o=e.value.creditsData)==null?void 0:o.minMonthlyPayment)}),{pushGtmEvent:q}=re();function G(){q("clickOnProductGA",e.value)}return(r,a)=>{var t,h,T;const o=O,u=x,p=ie,f=te;return e.value?(n(),i("div",{key:0,class:_(["carousel-product",{"carousel-product__small":s.small}])},[g("div",{onClick:G},[P(u,{link:r.localePath(`/product/${e.value.slug}`),name:e.value.name,"image-link":A.value,small:s.small},{default:D(()=>[g("p",de,[P(o,{product:e.value},null,8,["product"])])]),_:1},8,["link","name","image-link","small"]),I.value.length>1&&s.showColor?(n(),i("div",pe,[P(p,{colors:I.value,"active-color":k.value,small:"",onChangeProduct:U},null,8,["colors","active-color"])])):v("",!0)]),g("div",ve,[e.value.price&&e.value.finalPrice<e.value.price&&!e.value.priceCat4?(n(),i("p",_e,d(e.value.price)+"  "+d(r.$t("currency")!=="currency"?r.$t("currency"):e.value.currency),1)):v("",!0),e.value.priceCat4?(n(),i("p",fe,d(e.value.price&&e.value.finalPrice<e.value.price&&e.value.priceCat4?e.value.finalPrice:e.value.price)+"  "+d(r.$t("currency")!=="currency"?r.$t("currency"):e.value.currency),1)):v("",!0),g("p",ye,[e.value.finalPrice&&!e.value.priceCat4?(n(),i("span",{key:0,class:_(["carousel-product_price-value",{"carousel-product_price-value__discount":e.value.finalPrice<e.value.price}])},d(C(F)(e.value.finalPrice))+" "+d(r.$t("currency")!=="currency"?r.$t("currency"):s.product.currency),3)):v("",!0),e.value.finalPrice&&e.value.priceCat4?(n(),i("span",{key:1,class:_(["carousel-product_price-value",{"carousel-product_price-value__discount":e.value.finalPrice<e.value.price}])},d(C(F)(e.value.priceCat4))+" "+d(r.$t("currency")!=="currency"?r.$t("currency"):s.product.currency),3)):v("",!0),e.value.finalPrice<e.value.price?(n(),i("span",me,d(e.value.finalPrice-e.value.price)+"  "+d(r.$t("currency")!=="currency"?r.$t("currency"):e.value.currency),1)):v("",!0)]),j.value?(n(),i("p",ke,[P(f,{price:(h=(t=e.value)==null?void 0:t.creditsData)==null?void 0:h.minMonthlyPayment,terms:(T=e.value)==null?void 0:T.creditsData.maxTerm,type:"creditText"},null,8,["price","terms"])])):v("",!0),(n(),X(Z(S.value?"button":("defineNuxtLink"in r?r.defineNuxtLink:C(ee))("NuxtLink")),{to:S.value?"":r.localePath(`/product/${e.value.slug}`),class:"carousel-product_button",onClick:a[0]||(a[0]=ge=>W())},{default:D(()=>[Y(d(z.value),1)]),_:1},8,["to"]))])],2)):v("",!0)}}},Be=w(he,[["__scopeId","data-v-1a266bb1"]]);export{Be as _};
