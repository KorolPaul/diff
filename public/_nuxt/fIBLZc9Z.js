import{o as R}from"./T4kW5CUp.js";import{_ as y,ac as H,x as P,r as v,j as a,o as s,k as o,aa as U,m as t,O as K,l as n,z as g,F as w,L as D,t as L,y as l,d as q,C as J,B as $,b as X,c as S,av as nt,a1 as rt,T as A,p as at,M as it,n as ct,H as lt,I as _t,A as ut,i as dt}from"./Pd6RrLp1.js";import{u as mt}from"./B64m7KbU.js";import{T as B,_ as pt}from"./DkhoWb95.js";import{_ as ft}from"./2WVDaFKk.js";import{_ as gt}from"./qKLLgZOX.js";import{_ as ht}from"./CuRHY0aD.js";import{_ as Y}from"./QJ3VVsaT.js";import{_ as wt}from"./Bh9jfPsV.js";import{u as I}from"./ChnuYSVO.js";import{u as $t}from"./BSts32E-.js";import{_ as vt}from"./hNdyipqz.js";import{u as Z}from"./C3MdYnyV.js";import{f as yt}from"./DV533Gpo.js";import{u as kt}from"./UMgXyzVE.js";import{L as Ct}from"./BopCOLbw.js";import"./CcjC4gLZ.js";import"./B-l2-lBV.js";import"./BRd7Y3HP.js";import"./DrybQeLc.js";import"./CJ3NDxRk.js";import"./_gDyM3JS.js";import"./CyMuBQOc.js";import"./B4ouTiC0.js";import"./UDYLtqhF.js";import"./Dx0uk2nJ.js";import"./1OVHT2GX.js";import"./CCRCVzVF.js";import"./C3QHuKV1.js";import"./D_TJXMTY.js";import"./pvpDbLJt.js";import"./BoW1LxkV.js";import"./DK9X1TaX.js";import"./DxWnzEjH.js";import"./wu6KqT4O.js";import"./CIVZYtEA.js";import"./CiYsyl20.js";import"./Chqo76C3.js";import"./DcmtLR2x.js";import"./W68msiwk.js";import"./DDeKuuea.js";import"./CyGIhy1v.js";import"./DqO2dBIS.js";import"./Cuh519_O.js";import"./DYDoPj_5.js";import"./CasWryfL.js";import"./DVvJ7oE4.js";import"./DtWURNbD.js";import"./gOeOLlyJ.js";import"./cdh4QgBc.js";import"./BrwUmeBJ.js";import"./0zS85Q81.js";import"./BJt_w7Hb.js";import"./CAC9vlZT.js";import"./DQObz2Ym.js";import"./BMHaNUcL.js";import"./BdleNovN.js";import"./BeTDdiTI.js";import"./gj_0ZWSo.js";import"./km7Iw1uL.js";const bt={__name:"menu-dropdown",setup(_){const i=H();P(()=>i.getContactsInfo??[]);const u=v(!1),d=v(null);return R(d,()=>u.value=null),(e,c)=>(s(),a("div",{ref_key:"selectRef",ref:d,class:"menu-dropdown"},[o("button",{class:"menu_dropdown_button",onClick:c[0]||(c[0]=r=>u.value=!t(u))},[U(e.$slots,"icon",{},void 0,!0)]),o("ul",{class:K(["menu-dropdown_content",{active:t(u)}])},[U(e.$slots,"content",{},void 0,!0)],2)],512))}},x=y(bt,[["__scopeId","data-v-d4246d66"]]),It=["href"],Pt={__name:"contacts-menu",setup(_){const i=H(),u=P(()=>i.getContactsInfo??[]),d=r=>r?r.trim():"",e=v(!1),c=v(null);return R(c,()=>e.value=null),(r,h)=>{const m=x;return s(),a("div",{ref_key:"selectRef",ref:c,class:"contacts-menu"},[n(m,null,{icon:g(()=>[U(r.$slots,"default",{},void 0,!0)]),content:g(()=>[(s(!0),a(w,null,D(t(u),(p,k)=>(s(),a(w,{key:k+"-email"},[d(p.phone)?(s(),a("li",{key:k+"-phone",class:"menu-phone"},[o("a",{href:`tel:${d(p.phone)}`,class:"contacts-menu_link"},l(d(p.phone)),9,It)])):L("",!0)],64))),128))]),_:3})],512)}}},St=y(Pt,[["__scopeId","data-v-80e33be3"]]),Lt=q({name:"ToolsListAuthItem",components:{ToolsListItem:B},props:{userName:{type:String,default:null}},setup(){const{logout:_}=mt(),i=v(!1),u=v(null);return R(u,()=>i.value=null),{authRef:u,isOpened:i,logout:_}}}),Wt={ref:"authRef",class:"tools-list-auth-item"};function Nt(_,i,u,d,e,c){const r=J,h=x;return s(),a("div",Wt,[n(h,null,{icon:g(()=>[U(_.$slots,"default",{},void 0,!0)]),content:g(()=>[o("li",null,[n(r,{to:_.localePath("/account/info"),class:"tools-list-auth-item_dropdown-item"},{default:g(()=>[$(l(_.$t("profile")),1)]),_:1},8,["to"])]),o("li",null,[n(r,{to:_.localePath("/account/orders"),class:"tools-list-auth-item_dropdown-item"},{default:g(()=>[$(l(_.$t("orders")),1)]),_:1},8,["to"])]),o("li",null,[o("button",{class:"tools-list-auth-item_dropdown-item",onClick:i[0]||(i[0]=(...m)=>_.logout&&_.logout(...m))},l(_.$t("logout")),1)])]),_:3})],512)}const Bt=y(Lt,[["render",Nt],["__scopeId","data-v-3fc361c5"]]),Mt={class:"cart-widget-item"},Ot={class:"cart-widget-item_image-wrapper"},Ut={class:"cart-widget-item_count"},Dt={class:"cart-widget-item_title"},At={class:"cart-widget-item_price"},Rt={class:"cart-widget-item_image-wrapper"},Tt={class:"cart-widget-item_count"},Vt={class:"cart-widget-item_title"},zt={class:"cart-widget-item_price"},Qt=q({__name:"cart-widget-item",props:{product:{}},setup(_){const{formatPriceWithSpaces:i}=$t(),{locale:u}=X(),d=e=>{var c,r;return((c=e==null?void 0:e.name)==null?void 0:c[u.value])||((r=e==null?void 0:e.name)==null?void 0:r.en)||(e==null?void 0:e.name)};return(e,c)=>{var m;const r=Y,h=wt;return s(),a(w,null,[o("div",Mt,[o("div",Ot,[n(r,{class:"cart-widget-item_image",src:("product"in e?e.product:t(I)).photoUrl},null,8,["src"]),o("span",Ut,l(("product"in e?e.product:t(I)).orderedQuantity),1)]),o("div",null,[o("span",Dt,l(d("product"in e?e.product:t(I))),1),o("span",At,[$(l(t(i)(("product"in e?e.product:t(I)).totalPriceWithDiscount))+" ",1),n(h,{currency:"","use-default":""})])])]),(m=("product"in e?e.product:t(I)).bundlePairing)!=null&&m.products.length?(s(!0),a(w,{key:0},D(("product"in e?e.product:t(I)).bundlePairing.products,p=>(s(),a("div",{key:p.id||0,class:"cart-widget-item cart-widget-item__inner"},[o("div",Rt,[n(r,{class:"cart-widget-item_image",src:p.photoUrl},null,8,["src"]),o("span",Tt,l(p.orderedQuantity),1)]),o("div",null,[o("span",Vt,l(d(p)),1),o("span",zt,[$(l(t(i)(p.totalPriceWithDiscount))+" ",1),n(h,{currency:"","use-default":""})])])]))),128)):L("",!0)],64)}}}),Ft=y(Qt,[["__scopeId","data-v-a7804dc7"]]),jt={key:0,class:"cart-widget-banners"},Et={__name:"cart-widget-banners",props:{banners:{type:Array,default:null}},setup(_){return(i,u)=>{const d=Y,e=J;return _.banners?(s(),a("div",jt,[(s(!0),a(w,null,D(_.banners.slice(0,2),c=>(s(),S(e,{key:c.name,to:c.url,class:"cart-widget-banners_item",target:"_blank"},{default:g(()=>{var r,h;return[n(d,{src:(h=(r=c.content.bannerSizes[0].image)==null?void 0:r.file)==null?void 0:h.path},null,8,["src"])]}),_:2},1032,["to"]))),128))])):L("",!0)}}},Gt=y(Et,[["__scopeId","data-v-fcf2c43a"]]),Ht={class:"cart-widget"},Kt={key:0,class:"cart-widget_title cart-widget_title__empty"},qt={class:"cart-widget_title"},Jt={class:"cart-widget_slider"},Xt={class:"cart-widget_title"},Yt={key:2,class:"cart-widget_banners"},Zt={class:"cart-widget_title"},xt={key:0,class:"cart-widget_footer"},te={__name:"cart-widget",async setup(_){let i,u;const{camelizeKeys:d}=nt,{getCart:e,isCartLoading:c,getCartPositionsQuantity:r}=Z(),h=v(!1),m=P(()=>{var f;return((f=e==null?void 0:e.value)==null?void 0:f.products)||[]}),p=P(()=>yt(m.value)),k=P(()=>p.value.map(f=>f.id)),W=P(()=>c.value),M=rt(),{locale:O}=X(),N=A("toggleCartWidget"),T=A("cartWidgetState"),V=([i,u]=at(()=>it.getGroupBy(ct.cartWidgetBanner,O)),i=await i,u(),i),z=f=>{h.value=f};return(f,C)=>{const Q=gt,F=ht,tt=Ft,et=vt,ot=Gt,j=ut,st=pt;return s(),S(st,{opened:t(T).opened,"max-width":720,onClose:t(N)},{footer:g(()=>[t(m).length!==0?(s(),a("div",xt,[n(j,{class:"cart-widget_footer-button",href:t(M)("/cart"),secondary:"",onClick:t(N)},{default:g(()=>[$(l(f.$t("view_my_cart"))+" ("+l(t(r))+") ",1)]),_:1},8,["href","onClick"]),n(j,{class:"cart-widget_footer-button",href:t(M)("/checkout"),onClick:t(N)},{default:g(()=>[$(l(f.$t("checkout")),1)]),_:1},8,["href","onClick"])])):L("",!0)]),default:g(()=>{var E,G;return[o("div",Ht,[o("button",{class:"cart-widget_back",onClick:C[0]||(C[0]=(...b)=>t(N)&&t(N)(...b))},[n(Q,{icon:"chevronLeftIcon",class:"cart-widget_back-icon"}),$(" "+l(f.$t("continue_shopping")),1)]),t(W)&&t(m).length===0?(s(),S(F,{key:0,class:"cart-widget_loading"})):(s(),a(w,{key:1},[t(m).length===0?(s(),a("p",Kt,l(f.$t("your_cart_is_empty")),1)):(s(),a(w,{key:1},[o("p",qt,[t(T).hasNewProducts?(s(),a(w,{key:0},[n(Q,{icon:"success"}),$(" "+l(f.$t("items_added_to_cart")),1)],64)):(s(),a(w,{key:1},[$(l(f.$t("your_cart")),1)],64))]),o("div",{class:K(["cart-widget_products",{loading:t(W)}])},[(s(!0),a(w,null,D(t(p),b=>(s(),S(tt,{key:b.id,product:t(d)(b)},null,8,["product"]))),128)),t(W)?(s(),S(F,{key:0,class:"cart-widget_products-spinner"})):L("",!0)],2),lt(o("div",Jt,[o("p",Xt,l(f.$t("you_might_also_like")),1),n(et,{"slider-key":t(p)[0].brand,product:t(p)[0],"products-ids":t(k),small:"",onOnCrossProductsReady:C[1]||(C[1]=b=>z(!0)),onOnCrossProductsEmpty:C[2]||(C[2]=b=>z(!1))},null,8,["slider-key","product","products-ids"])],512),[[_t,t(h)]])],64)),(G=(E=t(V))==null?void 0:E.banners)!=null&&G.length?(s(),a("div",Yt,[o("p",Zt,l(f.$t("offers")),1),n(ot,{banners:t(V).banners},null,8,["banners"])])):L("",!0)],64))])]}),_:1},8,["opened","onClose"])}}},ee=y(te,[["__scopeId","data-v-8799e832"]]),oe={class:"tools-list"},se={class:"tools-list_item"},ne={class:"tools-list_item tools-list_item__desktop"},re={class:"tools-list_item"},ae={__name:"tools-list",setup(_){const{isAuthUser:i,getUserName:u}=kt(),{getCartPositionsQuantity:d}=Z(),e=v(!1),c=v(!1),r=A("toggleCartWidget");return dt(()=>{e.value=!0}),(h,m)=>{const p=St,k=Bt,W=ft,M=ee;return s(),a("ul",oe,[o("li",se,[n(p,null,{default:g(()=>[n(B,{icon:"phone","is-show-title":!1})]),_:1})]),o("li",ne,[t(i)&&e.value?(s(),S(k,{key:0,"user-name":t(u)},{default:g(()=>[n(B,{icon:"account","overflow-ellipsis":"","is-show-title":!1})]),_:1},8,["user-name"])):(s(),a(w,{key:1},[n(B,{title:h.$t("login"),icon:"user","is-show-title":!1,onClick:m[0]||(m[0]=O=>c.value=!0)},null,8,["title"]),n(W,{modelValue:c.value,"onUpdate:modelValue":m[1]||(m[1]=O=>c.value=O),"max-width":600},{default:g(()=>[n(Ct)]),_:1},8,["modelValue"])],64))]),o("li",re,[n(B,{counter:t(d),"is-show-title":!1,icon:"cart",onClick:t(r)},null,8,["counter","onClick"]),n(M)])])}}},po=y(ae,[["__scopeId","data-v-4e44f90b"]]);export{po as default};
