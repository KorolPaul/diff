import{s as b,aK as C,aL as g,m as W,i as M,a0 as O,aq as _,ar as k,r as I,w as F,R as E,D as T,aM as L,aN as G}from"./Pd6RrLp1.js";function B(e,n){var r;const t=b();return C(()=>{t.value=e()},{...n,flush:(r=void 0)!=null?r:"sync"}),g(t)}function H(e){return _()?(k(e),!0):!1}function d(e){return typeof e=="function"?e():W(e)}const N=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const J=e=>e!=null,V=Object.prototype.toString,Q=e=>V.call(e)==="[object Object]",p=()=>{},U=j();function j(){var e,n;return N&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function v(e,n){function r(...t){return new Promise((a,o)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(a).catch(o)})}return r}const A=e=>e();function P(e,n={}){let r,t,a=p;const o=i=>{clearTimeout(i),a(),a=p};return i=>{const s=d(e),u=d(n.maxWait);return r&&o(r),s<=0||u!==void 0&&u<=0?(t&&(o(t),t=null),Promise.resolve(i())):new Promise((c,m)=>{a=n.rejectOnCancel?m:c,u&&!t&&(t=setTimeout(()=>{r&&o(r),t=null,c(i())},u)),r=setTimeout(()=>{t&&o(t),t=null,c(i())},s)})}}function q(...e){let n=0,r,t=!0,a=p,o,l,i,s,u;!T(e[0])&&typeof e[0]=="object"?{delay:l,trailing:i=!0,leading:s=!0,rejectOnCancel:u=!1}=e[0]:[l,i=!0,s=!0,u=!1]=e;const c=()=>{r&&(clearTimeout(r),r=void 0,a(),a=p)};return x=>{const f=d(l),h=Date.now()-n,w=()=>o=x();return c(),f<=0?(n=Date.now(),w()):(h>f&&(s||!t)?(n=Date.now(),w()):i&&(o=new Promise((y,S)=>{a=u?S:y,r=setTimeout(()=>{n=Date.now(),t=!0,y(w()),c()},Math.max(0,f-h))})),!s&&!r&&(r=setTimeout(()=>t=!0,f)),t=!1,o)}}function K(e=A){const n=I(!0);function r(){n.value=!1}function t(){n.value=!0}const a=(...o)=>{n.value&&e(...o)};return{isActive:g(n),pause:r,resume:t,eventFilter:a}}function $(e){return E()}function X(e,n=200,r={}){return v(P(n,r),e)}function Y(e,n=200,r=!1,t=!0,a=!1){return v(q(n,r,t,a),e)}function D(e,n,r={}){const{eventFilter:t=A,...a}=r;return F(e,v(t,n),a)}function Z(e,n,r={}){const{eventFilter:t,...a}=r,{eventFilter:o,pause:l,resume:i,isActive:s}=K(t);return{stop:D(e,n,{...a,eventFilter:o}),pause:l,resume:i,isActive:s}}function R(e,n={}){if(!T(e))return L(e);const r=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const t in e.value)r[t]=G(()=>({get(){return e.value[t]},set(a){var o;if((o=d(n.replaceRef))!=null?o:!0)if(Array.isArray(e.value)){const i=[...e.value];i[t]=a,e.value=i}else{const i={...e.value,[t]:a};Object.setPrototypeOf(i,Object.getPrototypeOf(e.value)),e.value=i}else e.value[t]=a}}));return r}function ee(e,n=!0,r){$()?M(e,r):n?e():O(e)}function te(e,n,r={}){const{debounce:t=0,maxWait:a=void 0,...o}=r;return D(e,n,{...o,eventFilter:P(t,{maxWait:a})})}function ne(e,n,r){const t=F(e,(...a)=>(O(()=>t()),n(...a)),r);return t}export{te as a,d as b,B as c,Z as d,ee as e,H as f,Y as g,U as h,N as i,J as j,Q as k,p as n,R as t,X as u,ne as w};
