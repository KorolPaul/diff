import{_ as W}from"./C1bY634J.js";import{_ as $}from"./Csz6-sdz.js";import{u as j,_ as H}from"./CNf1FbPc.js";import{u as z,a as J,_ as K}from"./D5A9IBSm.js";import{u as X,r as x,b as Y,x as C,s as w,p as g,P as Z,n as tt,j as i,m as t,t as y,l as f,k as u,c as E,y as ot,v as et,o as s}from"./Pd6RrLp1.js";import{u as at}from"./Cubs7ceE.js";import{u as st}from"./5Tbs7Tph.js";import{f as rt}from"./C3hfG10U.js";import"./CuRHY0aD.js";import"./DDeKuuea.js";import"./qKLLgZOX.js";import"./B-l2-lBV.js";import"./BRd7Y3HP.js";import"./BdleNovN.js";import"./DrybQeLc.js";import"./Cuh519_O.js";import"./C3MdYnyV.js";import"./DV533Gpo.js";import"./DcmtLR2x.js";import"./B4ouTiC0.js";import"./UMgXyzVE.js";import"./CcjC4gLZ.js";import"./DqO2dBIS.js";import"./CIVZYtEA.js";import"./9O3XjtsJ.js";import"./C3QHuKV1.js";import"./CasWryfL.js";import"./pvpDbLJt.js";import"./1OVHT2GX.js";import"./T4kW5CUp.js";import"./ckAQI_px.js";import"./BSts32E-.js";import"./D1YAISfT.js";import"./cdh4QgBc.js";import"./BrwUmeBJ.js";import"./0zS85Q81.js";import"./BJt_w7Hb.js";import"./QJ3VVsaT.js";import"./CAC9vlZT.js";import"./CjGb2l7u.js";const nt={key:0},it={key:0},ct={key:1},pt={class:"conditions-page_slider"},lt={key:2},mt={class:"brands_title"},ut={class:"brands_container"},_t={class:"brands_container"},dt={key:1},gt="bang-and-olufsen, bang-n-olufsen, loewe, aeno, logitech, devialet",ao={__name:"index",async setup(yt){var B;let e,r;const c=X(),p=c.params.slug,l=x(!1),{t:G}=Y(),{setMetaToCatalogPage:A}=at(),{getQueryParams:D}=z(),h=C(()=>{var o;return Number((o=c==null?void 0:c.query)==null?void 0:o.page)||1}),b=x([]),v=C(()=>gt.indexOf(p)!==-1),{fetchConstructorPayload:N}=j(),_=w(null),m=w(null),{bannersGroup:T,bannersSpeed:I,fetchBannerGroup:V}=st(),{fetchBandsBySlug:q,brandBySlug:n,totalPages:F,fetchError:k}=J(),L=[{text:G("brands"),href:"/brands"}],P=async({params:o})=>{l.value=!0;const a=o?rt(o):{};await q(p,{...a}),l.value=!1};try{if(v.value){const o=([e,r]=g(()=>Z.getAggregatePageBySlug(p)),e=await e,r(),e);m.value=(B=o==null?void 0:o.data)==null?void 0:B.data,_.value=([e,r]=g(()=>N(m.value.blocks)),e=await e,r(),e),A(n),[e,r]=g(()=>V(tt.subcategoryBanner)),await e,r();const a=T.value.find(d=>d.name===p);a&&b.value.push(a)}else{const o={...D(h.value)};P({params:o})}}catch(o){console.error(o)}return(o,a)=>{var S;const d=W,O=$,R=H,M=K,Q=et;return t(k)?(s(),i("div",dt,[f(Q,{error:t(k)},null,8,["error"])])):(s(),i("div",nt,[t(l)?(s(),i("div",it,[f(d)])):y("",!0),t(v)?(s(),i("div",ct,[u("div",pt,[f(O,{slides:t(b),frequency:t(I)||5e3,"is-loaded":o.isLoadedBanners},null,8,["slides","frequency","is-loaded"])]),t(m)&&t(_)?(s(),E(R,{key:0,"page-data":t(m),payload:t(_)},null,8,["page-data","payload"])):y("",!0)])):(s(),i("div",lt,[u("h1",mt,[u("div",ut,ot(((S=t(n))==null?void 0:S.name)||""),1)]),u("div",_t,[t(n)?(s(),E(M,{key:0,products:t(n).products,subcategory:t(n),slug:t(n).slug,"total-pages":t(F),"current-page":t(h),links:L,loading:t(l),onGetSubcategoryData:a[0]||(a[0]=U=>P(U))},null,8,["products","subcategory","slug","total-pages","current-page","loading"])):y("",!0)])]))]))}}};export{ao as default};
