import{_ as Y}from"./CAC9vlZT.js";import{a as Z}from"./CuVdlouH.js";import{d as x,a1 as oo,x as m,j as k,o as c,k as _,l as L,t as i,m as t,y as d,B as f,c as g,F as U,z as C,C as to,O as eo,q as ro,A as no,_ as ao}from"./Pd6RrLp1.js";import{_ as co}from"./QJ3VVsaT.js";import{u as a}from"./ChnuYSVO.js";import{u as so}from"./Defl8kng.js";import{_ as uo}from"./BrwUmeBJ.js";import{u as io}from"./wu6KqT4O.js";const po={class:"product_container"},lo={class:"product_info"},mo={class:"product_name"},_o={key:0,class:"product_generation"},fo={class:"product_description"},go={class:"product_buttons"},yo=x({__name:"product",props:{product:{},category:{},buttonText:{}},setup(j){var B,S,b,I,T,F,G;const e=j,q=oo(),{formatToDayAndMonth:R}=so(),{trancateProductName:H}=io(),h=e.category,v=m(()=>{var o,n,r,p,s;return(s=(p=(r=(n=(o=e.product)==null?void 0:o.featureGroups)==null?void 0:n.find(u=>u.externalCfId==="SPECIFICATIONS"))==null?void 0:r.features)==null?void 0:p.find(u=>u.externalCfId==="GENERATION"))==null?void 0:s.value}),J=()=>{var n,r;const o=((n=e.product)==null?void 0:n.name)||((r=e.category)==null?void 0:r.name);return o?H(o):""},N=h?e.category.imageUrl||((b=(S=(B=e.category)==null?void 0:B.images)==null?void 0:S[0])==null?void 0:b.url):(F=(T=(I=e.product)==null?void 0:I.variations[0])==null?void 0:T.images)==null?void 0:F[0],K=m(()=>{var n,r,p,s,u;if((n=e.product)!=null&&n.slogan)return(r=e.product)==null?void 0:r.slogan;const o=(u=(s=(p=e.category)==null?void 0:p.contents)==null?void 0:s.find(P=>P.type==="slogan"))==null?void 0:u.data;return o&&typeof o=="string"?o:""}),l=q(h?`/category/${e.category.slug}`:`/product/${(G=e.product)==null?void 0:G.slug}`),y=m(()=>{var o;return(o=e.product)==null?void 0:o.realNpiState}),Q=m(()=>{var o,n,r;return y.value&&!((o=e.product)!=null&&o.finalPrice)||((n=e.product)==null?void 0:n.realStock)&&!((r=e.product)!=null&&r.finalPrice)}),W=m(()=>{if(!e.product)return"";const{realStock:o,notB2c:n,finalPrice:r}=e.product;return r&&!o&&!n&&!y.value?"notify_me":y.value&&r?"preorder":o?o&&!r?"notify_me":"credit_buy_now":r?"purchase_order":"notify_me"}),{pushGtmEvent:X}=ro();function $(){e.product&&X("clickOnProductGA",e.product)}return(o,n)=>{var w,A,D,E,M,O,V;const r=Y,p=Z,s=no,u=co,P=to;return c(),k("div",{class:eo(["product",{product__small:!t(h)}])},[_("div",po,[_("div",lo,[L(uo,{product:("product"in o?o.product:t(a))||o.category,class:"product_badges"},null,8,["product"]),_("span",mo,d(J()),1),t(v)?(c(),k("span",_o,d(t(v)),1)):i("",!0),_("span",fo,[f(d(t(K))+" ",1),(w=o.category)!=null&&w.minPrice||(A="product"in o?o.product:t(a))!=null&&A.finalPrice?(c(),g(r,{key:0,price:((D=o.category)==null?void 0:D.minPrice)||((E="product"in o?o.product:t(a))==null?void 0:E.finalPrice)},null,8,["price"])):i("",!0),t(y)&&((M="product"in o?o.product:t(a))!=null&&M.deliveryDate)&&((O="product"in o?o.product:t(a))!=null&&O.finalPrice)?(c(),k(U,{key:1},[f(d(` ${o.$t("availible")} ${t(R)(("product"in o?o.product:t(a)).deliveryDate)}`),1)],64)):i("",!0),t(Q)?(c(),k(U,{key:2},[f(d(o.$t("cooming_soon")),1)],64)):i("",!0)]),_("div",go,[(V="product"in o?o.product:t(a))!=null&&V.contentMarketing?(c(),g(p,{key:0,"popup-content":("product"in o?o.product:t(a)).contentMarketing},null,8,["popup-content"])):i("",!0),o.category&&t(l)?(c(),g(s,{key:1,href:t(l),secondary:""},{default:C(()=>[f(d(o.buttonText||o.$t("credit_buy_now")),1)]),_:1},8,["href"])):i("",!0),("product"in o?o.product:t(a))&&t(l)?(c(),g(s,{key:2,href:t(l),onClick:$},{default:C(()=>[f(d(o.$t(t(W))),1)]),_:1},8,["href"])):i("",!0)])]),L(P,{to:t(l),class:"product_image-wrapper",onClick:$},{default:C(()=>{var z;return[t(N)?(c(),g(u,{key:0,src:t(N),loading:"lazy",class:"product_image",alt:(z="product"in o?o.product:t(a))==null?void 0:z.name},null,8,["src","alt"])):i("",!0)]}),_:1},8,["to"])])],2)}}}),So=ao(yo,[["__scopeId","data-v-7d007515"]]);export{So as _};
