import{_ as w}from"./qKLLgZOX.js";import{_ as S}from"./CCRCVzVF.js";import{_ as N,d as V,j as n,t as l,o,k as $,y as _,F as k,L as v,c as b,l as d,B as g,g as M,x as A,r as B,w as E,m as f}from"./Pd6RrLp1.js";import j from"./D0s6eemM.js";import{u as I}from"./CyMuBQOc.js";import"./2WVDaFKk.js";import"./C3QHuKV1.js";import"./D_TJXMTY.js";import"./pvpDbLJt.js";import"./BoW1LxkV.js";import"./DK9X1TaX.js";import"./UMgXyzVE.js";import"./CcjC4gLZ.js";import"./DxWnzEjH.js";import"./Cuh519_O.js";import"./B4ouTiC0.js";const T=V({name:"ServiceContactCard",props:{service:{type:Object,default:null}},setup(){const h=M().$i18n;return{workingTimeValue:u=>{const a=[];return u&&u.forEach(r=>{const p=r.days.length;if(p>=2){const m=`${h.t(r.days[0])}-${h.t(r.days[p-1])}, ${r.start}-${r.end}`;a.push(m)}else if(p){const m=`${h.t(r.days)}, ${r.start}-${r.end}`;a.push(m)}}),a}}}}),D={key:0,class:"service-contact-card"},F={class:"service-name black--text text--darken-1 mb-6"},L={key:0,class:"service-work-schedule text-body-3 gray--text text--lighten-4 mb-4"},O=["href"],G=["href"],Z=["onClick"],q=["href"],z={class:"get-direction"};function H(i,h,y,u,a,r){const p=w,m=S;return i.service?(o(),n("div",D,[$("div",F,_(i.service.name),1),(o(!0),n(k,null,v(i.service.addresses,(e,t)=>(o(),n(k,{key:`${t}-worktime`},[e.working_hours?(o(),n("div",L,_(i.workingTimeValue(e.working_hours).join(", ")),1)):l("",!0),e.address?(o(),n("div",{key:`${t}-address`,class:"d-flex align-center text-subtitle-4 gray--text text--darken-1 mb-4"},[d(p,{icon:"pin",class:"mr-3"}),g(" "+_(e.address),1)])):l("",!0),e.phone?(o(),n("div",{key:`${t}-phone`},[(o(!0),n(k,null,v(e.phone,(s,c)=>(o(),n("a",{key:`${t}-phone-${c}`,href:`tel:${s}`,class:"d-flex align-center text-subtitle-4 gray--text text--darken-1 mb-4 phone-number"},[d(p,{icon:"phone",class:"mr-3"}),g(" "+_(s),1)],8,O))),128))])):l("",!0),e.email?(o(),n("div",{key:`${t}-email`},[(o(!0),n(k,null,v(e.email,(s,c)=>(o(),n("a",{key:`${t}-phone-${c}`,href:`mailto:${s}`,class:"d-flex align-center text-subtitle-4 gray--text text--darken-1 mb-6"},[d(p,{icon:"email",class:"mr-3"}),g(" "+_(s),1)],8,G))),128))])):l("",!0),e.lat&&e.lon||e.url?(o(),n("div",{key:`${t}-coords`,class:"d-flex flex-column flex-md-row flex-xl-column mb-8"},[e.lat&&e.lon?(o(),n("div",{key:0,class:"text-body-2 primary--text card-link mb-3 mb-md-0 mb-xl-3 see-map",onClick:s=>i.$emit("map:select",{lat:Number(e.lat),lng:Number(e.lon)})},_(i.$t("see_on_map")),9,Z)):l("",!0),e.url?(o(),n("a",{key:1,href:e.url,target:"_blank",rel:"noopener noreferrer",class:"text-body-2 primary--text card-link"},[$("span",z,_(i.$t("get_direction")),1),d(p,{icon:"longArrowDownIcon",class:"ml-2 arrow-icon"})],8,q)):l("",!0)])):l("",!0),e.services?(o(),b(m,{key:5,service:e.services},null,8,["service"])):l("",!0)],64))),128))])):l("",!0)}const J=N(T,[["render",H],["__scopeId","data-v-3ea4418b"]]),K={class:"contacts-block"},Q={class:"contacts-block_addresses"},R={key:0,class:"services-card"},ue={__name:"contacts-block",props:{points:{type:Array,default:()=>[]},mapCenter:{type:Object,default:()=>{}}},setup(i){const h=i,y=I(),u=A(()=>{if(!y)return[];const e=[];return y.getShops.forEach(t=>{(t.types[0].key==="shop"||t.types[0].key==="online-store")&&e.push(t)}),e.sort((t,s)=>t.sort-s.sort)}),a=B({center:null,points:[]});let r=null;E(()=>u.value,e=>{a.value.center=h.mapCenter||{lat:34.7061,lng:33.022613};const t=[];if(!u.value){a.value.points=t;return}e.forEach(s=>{s.addresses.forEach(c=>{c.lat&&c.lon&&t.push({lat:Number(c.lat),lng:Number(c.lon),title:e.name,content:{name:s.name,worktime:c.working_hours,address:c.address,phone:c.phone}})})}),a.value.points=t},{immediate:!0});const p=e=>{try{r&&(r.setZoom(15),r.setCenter(e))}catch(t){console.error(t)}},m=e=>{r=e};return(e,t)=>{const s=J,c=j;return o(),n("div",K,[$("div",Q,[f(u)&&f(u).length?(o(),n("div",R,[(o(!0),n(k,null,v(f(u),(x,C)=>(o(),b(s,{key:`${C}-card`,service:x,"onMap:select":p},null,8,["service"]))),128))])):l("",!0)]),f(a).points.length?(o(),b(c,{key:0,class:"contacts-block_map",data:f(a),onInitMap:m},null,8,["data"])):l("",!0)])}}};export{ue as default};
