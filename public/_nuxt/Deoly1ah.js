import{_ as Yn}from"./CuRHY0aD.js";import{_ as at}from"./qKLLgZOX.js";import{d as J,j as F,o as B,k as M,l as L,_ as ne,a1 as rn,C as Un,m as O,z as de,O as ye,y as U,B as he,A as bt,a2 as an,r as ee,a3 as sn,$ as rt,x as Se,w as ln,H as De,F as _e,L as Ie,c as Pe,I as Fe,t as cn,U as qn,D as Gn,S as Kn,u as un,a4 as Jn,s as Qn,p as Zn,G as eo,K as to,E as no,a5 as oo}from"./Pd6RrLp1.js";import{_ as ro}from"./QJ3VVsaT.js";import{_ as ao}from"./Bh9jfPsV.js";import{u as ve}from"./ChnuYSVO.js";import{u as io}from"./BSts32E-.js";import{_ as so}from"./DQObz2Ym.js";import{c as lo,d as dn}from"./T4kW5CUp.js";import{a as co}from"./CcjC4gLZ.js";import{u as Ct}from"./CyGIhy1v.js";import{u as uo}from"./0zS85Q81.js";import{_ as fo}from"./1OVHT2GX.js";import{_ as po}from"./2WVDaFKk.js";import{u as fn}from"./DVvJ7oE4.js";import{P as mo}from"./BMHaNUcL.js";import{u as go}from"./CW11p7RY.js";import"./Cuh519_O.js";import"./DqO2dBIS.js";const vo={class:"compare-product-tools"},ho={class:"compare-product-tools_button-wrapper"},yo={class:"compare-product-tools_button compare-product-tools_button__drag","data-no-dragscroll":""},_o={class:"compare-product-tools_button-wrapper"},bo=J({__name:"compare-product-tools",emits:["remove"],setup(m){return(v,u)=>{const c=at;return B(),F("div",vo,[M("div",ho,[M("button",yo,[L(c,{class:"compare-product-tools_icon",icon:"leftRightArrow"})])]),M("div",_o,[M("button",{class:"compare-product-tools_button",onClick:u[0]||(u[0]=b=>v.$emit("remove"))},[L(c,{class:"compare-product-tools_icon",icon:"trash","container-size":""})])])])}}}),Co=ne(bo,[["__scopeId","data-v-bd13ab7a"]]),wo={class:"compare-product"},Eo={class:"compare-product_wrapper"},xo={class:"compare-product_name"},So={class:"compare-product_price"},Do=J({__name:"compare-product",props:{product:{},isHideImage:{type:Boolean}},emits:["remove"],setup(m){const v=rn(),{formatPriceWithSpaces:u}=io();return(c,b)=>{const h=Co,g=ro,C=ao,y=bt,$=Un;return B(),F("div",wo,[L(h,{class:"compare-product_tools",onRemove:b[0]||(b[0]=P=>c.$emit("remove"))}),L($,{class:"compare-product_link",to:O(v)(`/product/${("product"in c?c.product:O(ve)).slug}`)},{default:de(()=>{var P,S,k,z,A;return[L(g,{src:(k=(S=(P="product"in c?c.product:O(ve))==null?void 0:P.variations[0])==null?void 0:S.images)==null?void 0:k[0],class:ye(["compare-product_image",{"compare-product_image__hide":c.isHideImage}]),alt:(z="product"in c?c.product:O(ve))==null?void 0:z.name},null,8,["src","class","alt"]),M("div",Eo,[M("h4",xo,U((A="product"in c?c.product:O(ve))==null?void 0:A.name),1),M("span",So,[he(U(O(u)(("product"in c?c.product:O(ve)).finalPrice))+" ",1),L(C,{currency:("product"in c?c.product:O(ve)).currency},null,8,["currency"])]),L(y,{class:"compare-product_button",href:O(v)(`/product/${("product"in c?c.product:O(ve)).slug}`)},{default:de(()=>[he(U(c.$t("buy_now")),1)]),_:1},8,["href"])])]}),_:1},8,["to"])])}}}),Io=ne(Do,[["__scopeId","data-v-6249405b"]]);var Ne={exports:{}},Po=Ne.exports,nn;function Ro(){return nn||(nn=1,function(m,v){(function(u,c){c(v)})(Po,function(u){var c,b,h="smooth-dnd-container-instance",g="smooth-dnd-draggable-wrapper",C="animated",y="__smooth_dnd_draggable_translation_value",$="__smooth_dnd_draggable_visibility_value",P="smooth-dnd-ghost",S="smooth-dnd-container",k="smooth-dnd-extra-size-for-insertion",z="smooth-dnd-stretcher-element",A="smooth-dnd-stretcher-instance",X="smooth-dnd-disable-touch-action",V="smooth-dnd-no-user-select",Q="smooth-dnd-prevent-auto-scroll-class",R="smooth-dnd-drop-preview-default-class",q="smooth-dnd-drop-preview-inner-class",Z="smooth-dnd-drop-preview-constant-class",fe="smooth-dnd-drop-preview-flex-container-class",be=Object.freeze({containerInstance:h,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:g,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:C,translationValue:y,visibilityValue:$,ghostClass:P,containerClass:S,extraSizeForInsertion:k,stretcherElementClass:z,stretcherElementInstance:A,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:X,noUserSelectClass:V,preventAutoScrollClass:Q,dropPlaceholderDefaultClass:R,dropPlaceholderInnerClass:q,dropPlaceholderWrapperClass:Z,dropPlaceholderFlexContainerClass:fe}),te={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function me(e){return(me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e){return function(t){if(Array.isArray(t)){for(var n=0,o=new Array(t.length);n<t.length;n++)o[n]=t[n];return o}}(e)||function(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(b=c||(c={})).x="x",b.y="y",b.xy="xy";function je(e,t,n){return n==="x"?{left:Math.max(e.left,t.left),top:e.top,right:Math.min(e.right,t.right),bottom:e.bottom}:{left:e.left,top:Math.max(e.top,t.top),right:e.right,bottom:Math.min(e.bottom,t.bottom)}}function it(e){var t=window.getComputedStyle(e),n=t.overflow;if(n==="auto"||n==="scroll")return c.xy;var o=t["overflow-x"],r=o==="auto"||o==="scroll",i=t["overflow-y"],d=i==="auto"||i==="scroll";return r&&d?c.xy:r?c.x:d?c.y:null}function Ve(e,t){var n=window.getComputedStyle(e),o=n.overflow,r=n["overflow-".concat(t)];return o==="auto"||o==="scroll"||r==="auto"||r==="scroll"}var G=function(e,t){return{left:Math.max(e.left,t.left),top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom)}},Y=function(e){var t=e.getBoundingClientRect(),n={left:t.left,right:t.right,top:t.top,bottom:t.bottom};if(Ce(e,"x")&&!pe(e,"x")){var o=n.right-n.left;n.right=n.right+e.scrollWidth-o}if(Ce(e,"y")&&!pe(e,"y")){var r=n.bottom-n.top;n.bottom=n.bottom+e.scrollHeight-r}return n},pe=function(e,t){var n=window.getComputedStyle(e),o=n.overflow,r=n["overflow-".concat(t)];return o==="auto"||o==="scroll"||o==="hidden"||r==="auto"||r==="scroll"||r==="hidden"},Ce=function(e,t){return t==="x"?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight},He=function(e,t){var n=e,o=t||Y(e);for(n=e.parentElement;n;)Ce(n,"x")&&pe(n,"x")&&(o=je(o,n.getBoundingClientRect(),"x")),Ce(n,"y")&&pe(n,"y")&&(o=je(o,n.getBoundingClientRect(),"y")),n=n.parentElement;return o},st=function(e,t){for(var n=e;n;){if(n[h]){var o=function(){var r=n[h];if(t.some(function(i){return i===r}))return{v:r}}();if(me(o)==="object")return o.v}n=n.parentElement}return null},oe=function(e,t){for(var n=e;n;){if(n.matches(t))return n;n=n.parentElement}return null},lt=function(e,t){return-1<e.className.split(" ").map(function(n){return n}).indexOf(t)},ie=function(e,t){if(e){var n=e.className.split(" ").filter(function(o){return o});n.indexOf(t)===-1&&(n.unshift(t),e.className=n.join(" "))}},We=function(e,t){if(e){var n=e.className.split(" ").filter(function(o){return o&&o!==t});e.className=n.join(" ")}},vn=function(e,t){return e.removeChild(e.children[t])},hn=function(e,t,n){n>=e.children.length?e.appendChild(t):e.insertBefore(t,e.children[n])},yn=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},wt=function(e){if(e){var t=window.getComputedStyle(e);if(t)return t.cursor}return null};function ct(e){return!(e.bottom<=e.top||e.right<=e.left)}function Et(e){var t=e.element,n=e.draggables;return function(o,r){var i=o,d=i.removedIndex,l=i.addedIndex,p=i.droppedElement,a=null;if(d!==null&&(a=vn(t,d),n.splice(d,1)),l!==null){var s=window.document.createElement("div");s.className="".concat(g),s.appendChild(a&&a.firstElementChild?a.firstElementChild:p),hn(t,s,l),l>=n.length?n.push(s):n.splice(l,0,s)}r&&r(o)}}var _n=Object.freeze({domDropHandler:Et,reactDropHandler:function(){return{handler:function(){return function(e,t){t&&t(e)}}}}}),bn={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(e){return"translate3d(".concat(e,"px, 0, 0)")}}},Cn={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(e){return"translate3d(0,".concat(e,"px, 0)")}}};function wn(e,t,n){e[k]=0;var o=function(a){return{get:function(s,f){return s[a[f]||f]},set:function(s,f,_){s[a[f]]=a.setters[f]?a.setters[f](_):_}}}(t==="horizontal"?bn:Cn),r={translation:0};function i(){d(e),function(a){var s=a.getBoundingClientRect();r.scaleX=a.offsetWidth?(s.right-s.left)/a.offsetWidth:1,r.scaleY=a.offsetHeight?(s.bottom-s.top)/a.offsetHeight:1}(e)}function d(a){r.rect=Y(a);var s=He(a,r.rect);ct(s)&&(r.lastVisibleRect=r.visibleRect),r.visibleRect=s}function l(a){var s=a;if(s.tagName){var f=s.getBoundingClientRect();return t==="vertical"?f.bottom-f.top:f.right-f.left}return o.get(a,"size")*o.get(r,"scale")}function p(a){return o.get(a,"dragPosition")}return window.addEventListener("resize",function(){d(e)}),setTimeout(function(){i()},10),{getSize:l,getContainerRectangles:function(){return{rect:r.rect,visibleRect:r.visibleRect,lastVisibleRect:r.lastVisibleRect}},getBeginEndOfDOMRect:function(a){return{begin:o.get(a,"begin"),end:o.get(a,"end")}},getBeginEndOfContainer:function(){return{begin:o.get(r.rect,"begin")+r.translation,end:o.get(r.rect,"end")+r.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:o.get(r.visibleRect,"begin")+r.translation,end:o.get(r.visibleRect,"end")+r.translation}},getBeginEnd:function(a){var s=function(f){return(o.get(f,"distanceToParent")+(f[y]||0))*o.get(r,"scale")}(a)+(o.get(r.rect,"begin")+r.translation)-o.get(e,"scrollValue");return{begin:s,end:s+l(a)*o.get(r,"scale")}},getAxisValue:p,setTranslation:function(a,s){s?o.set(a.style,"translate",s):a.style.removeProperty("transform"),a[y]=s},getTranslation:function(a){return a[y]},setVisibility:function(a,s){a[$]!==void 0&&a[$]===s||(s?a.style.removeProperty("visibility"):a.style.visibility="hidden",a[$]=s)},isVisible:function(a){return a[$]===void 0||a[$]},isInVisibleRect:function(a,s){var f=r.visibleRect,_=f.left,w=f.top,E=f.right,T=f.bottom;T-w<2&&(T=w+30);var D=r.rect;return t==="vertical"?a>D.left&&a<D.right&&w<s&&s<T:_<a&&a<E&&s>D.top&&s<D.bottom},setSize:function(a,s){o.set(a,"setSize",s)},getTopLeftOfElementBegin:function(a){var s=0;return{top:t==="horizontal"?(s=a,r.rect.top):(s=r.rect.left,a),left:s}},getScrollSize:function(a){return o.get(a,"scrollSize")},getScrollValue:function(a){return o.get(a,"scrollValue")},setScrollValue:function(a,s){return o.set(a,"scrollValue",s)},invalidate:i,invalidateRects:function(){d(e)},getPosition:function(a){return p(a)},setBegin:function(a,s){o.set(a,"begin",s)}}}function xt(e,t,n){var o,r,i,d=n.left,l=n.right,p=n.top,a=n.bottom,s=e.x,f=e.y;if(s<d||l<s||f<p||a<f)return null;i=t==="x"?(o=d,r=l,s):(o=p,r=a,f);var _=r-o,w=400<_?100:_/4;return r-i<w?{direction:"end",speedFactor:(w-(r-i))/w}:i-o<w?{direction:"begin",speedFactor:(w-(i-o))/w}:null}function Xe(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"y",n=null,o=null,r=null,i=null;return{animate:function(d,l){r=d,i=l,function p(){n===null&&(n=requestAnimationFrame(function(a){o===null&&(o=a);var s=a-o;o=a;var f,_,w,E=s/1e3*i;_=t,w=E=r==="begin"?0-E:E,(f=e)&&(f!==window?_==="x"?f.scrollLeft+=w:f.scrollTop+=w:_==="x"?f.scrollBy(w,0):f.scrollBy(0,w)),n=null,p()}))}()},stop:function(){n!==null&&(cancelAnimationFrame(n),n=null),o=null}}}function En(e){return function(){return He(e,e.getBoundingClientRect())}}var le,Ye,H,xn=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,n=e.reduce(function(o,r){var i=function(d){for(var l=[],p=d.element;p;){var a=it(p);if(a&&!lt(p,Q)){var s={};switch(a){case c.xy:s.x={animator:Xe(p,"x")},s.y={animator:Xe(p,"y")};break;case c.x:s.x={animator:Xe(p,"x")};break;case c.y:s.y={animator:Xe(p,"y")}}l.push({axisAnimations:s,getRect:En(p),scrollerElement:p})}p=p.parentElement}return l}(r).filter(function(d){return!o.find(function(l){return l.scrollerElement===d.scrollerElement})});return[].concat(Me(o),Me(i))},[]);return function(o){var r=o.draggableInfo;if(o.reset)n.forEach(function(l){l.axisAnimations.x&&l.axisAnimations.x.animator.stop(),l.axisAnimations.y&&l.axisAnimations.y.animator.stop()});else if(r){(function(l,p){l.forEach(function(a){var s=a.axisAnimations,f=(0,a.getRect)();s.x&&(s.x.scrollParams=xt(p,"x",f),a.cachedRect=f),s.y&&(s.y.scrollParams=xt(p,"y",f),a.cachedRect=f)})})(n,r.mousePosition),n.forEach(function(l){var p=l.axisAnimations,a=p.x,s=p.y;if(a)if(a.scrollParams){var f=a.scrollParams,_=f.direction,w=f.speedFactor;a.animator.animate(_,w*t)}else a.animator.stop();if(s)if(s.scrollParams){var E=s.scrollParams,T=E.direction,D=E.speedFactor;s.animator.animate(T,D*t)}else s.animator.stop()});var i=n.filter(function(l){return l.cachedRect});if(i.length&&1<i.length){var d=function(l,p){for(var a=document.elementFromPoint(p.x,p.y);a;){var s=l.find(function(f){return f.scrollerElement===a});if(s)return s;a=a.parentElement}return null}(i,r.mousePosition);d&&i.forEach(function(l){l!==d&&(l.axisAnimations.x&&l.axisAnimations.x.animator.stop(),l.axisAnimations.y&&l.axisAnimations.y.animator.stop())})}}}};typeof window<"u"&&((le=Element)&&le.prototype&&!le.prototype.matches&&(le.prototype.matches=le.prototype.matchesSelector||le.prototype.mozMatchesSelector||le.prototype.msMatchesSelector||le.prototype.oMatchesSelector||le.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),(Ye=Node||Element)&&Ye.prototype&&Ye.prototype.firstElementChild==null&&Object.defineProperty(Ye.prototype,"firstElementChild",{get:function(){for(var e,t=this.childNodes,n=0;e=t[n++];)if(e.nodeType===1)return e;return null}}),Array.prototype.some||(Array.prototype.some=function(e){if(this==null)throw new TypeError("Array.prototype.some called on null or undefined");if(typeof e!="function")throw new TypeError;for(var t=Object(this),n=t.length>>>0,o=2<=arguments.length?arguments[1]:void 0,r=0;r<n;r++)if(r in t&&e.call(o,t[r],r,t))return!0;return!1}));var St={overflow:"hidden",display:"block"},Dt={height:"100%",display:"table-cell","vertical-align":"top"},Sn=(j(H={},".".concat(S),{position:"relative","min-height":"30px","min-width":"30px"}),j(H,".".concat(S,".horizontal"),{display:"table"}),j(H,".".concat(S,".horizontal > .").concat(z),{display:"inline-block"}),j(H,".".concat(S,".horizontal > .").concat(g),Dt),j(H,".".concat(S,".vertical > .").concat(g),St),j(H,".".concat(g),{"box-sizing":"border-box"}),j(H,".".concat(g,".horizontal"),Dt),j(H,".".concat(g,".vertical"),St),j(H,".".concat(g,".animated"),{transition:"transform ease"}),j(H,".".concat(P),{"box-sizing":"border-box"}),j(H,".".concat(P,".animated"),{transition:"all ease-in-out"}),j(H,".".concat(P," *"),{"pointer-events":"none"}),j(H,".".concat(X," *"),{"touch-action":"none","-ms-touch-action":"none"}),j(H,".".concat(V),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),j(H,".".concat(q),{flex:"1"}),j(H,".".concat(S,".horizontal > .").concat(Z),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),j(H,".".concat(S,".vertical > .").concat(Z),{overflow:"hidden",display:"block",width:"100%"}),j(H,".".concat(fe),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),j(H,".".concat(R),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),H);function ut(e){return Object.keys(e).reduce(function(t,n){var o=e[n];return me(o)==="object"?"".concat(t).concat(n,"{").concat(ut(o),"}"):"".concat(t).concat(n,":").concat(o,";")},"")}function It(e){if(e&&typeof window<"u"){var t=window.document.head||window.document.getElementsByTagName("head")[0],n=window.document.createElement("style"),o=ut({"body *":{cursor:"".concat(e," !important")}});return n.type="text/css",n.styleSheet?n.styleSheet.cssText=o:n.appendChild(window.document.createTextNode(o)),t.appendChild(n),n}return null}var we,Ue,Dn=["mousedown","touchstart"],qe=["mousemove","touchmove"],Ge=["mouseup","touchend"],W=null,ce=null,N=null,x=null,re=[],ue=!1,Ke=!1,Oe=!1,Je=!1,Ee=null,ae=null,Te=null,Ae=null,Pt=(we=null,Ue=!1,{start:function(){Ue||(Ue=!0,function e(){we=requestAnimationFrame(function(){W.forEach(function(t){return t.layout.invalidateRects()}),setTimeout(function(){we!==null&&e()},50)})}())},stop:function(){we!==null&&(cancelAnimationFrame(we),we=null),Ue=!1}}),In=typeof window<"u"&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function Pn(){typeof window<"u"&&Dn.forEach(function(e){window.document.addEventListener(e,On,{passive:!1})})}function Rt(){return x&&x.ghostParent?x.ghostParent:ce&&ce.parentElement||window.document.body}var $e,dt,Ot,Qe,ft,pt,Rn=(Qe=null,ft=1,pt=5,function(e,t,n){$e=et(e),Ot=n,(dt=typeof t=="number"?t:In?200:0)&&(Qe=setTimeout(Bt,dt)),qe.forEach(function(o){return window.document.addEventListener(o,Tt)},{passive:!1}),Ge.forEach(function(o){return window.document.addEventListener(o,At)},{passive:!1}),window.document.addEventListener("drag",$t,{passive:!1})});function Tt(e){var t=et(e),n=t.clientX,o=t.clientY;if(dt)(Math.abs($e.clientX-n)>pt||Math.abs($e.clientY-o)>pt)&&Ze();else if(Math.abs($e.clientX-n)>ft||Math.abs($e.clientY-o)>ft)return Bt()}function At(){Ze()}function $t(){Ze()}function Ze(){clearTimeout(Qe),qe.forEach(function(e){return window.document.removeEventListener(e,Tt)},{passive:!1}),Ge.forEach(function(e){return window.document.removeEventListener(e,At)},{passive:!1}),window.document.removeEventListener("drag",$t,{passive:!1})}function Bt(){clearTimeout(Qe),Ze(),Ot()}function On(e){var t=et(e);if(!ue&&(t.button===void 0||t.button===0)&&(ce=oe(t.target,"."+g))){var n=oe(ce,"."+S),o=re.filter(function(l){return l.element===n})[0],r=o.getOptions().dragHandleSelector,i=o.getOptions().nonDragAreaSelector,d=!0;r&&!oe(t.target,r)&&(d=!1),i&&oe(t.target,i)&&(d=!1),d&&(o.layout.invalidate(),ie(window.document.body,X),ie(window.document.body,V),window.document.addEventListener("mouseup",function l(){We(window.document.body,X),We(window.document.body,V),window.document.removeEventListener("mouseup",l)})),d&&Rn(t,o.getOptions().dragBeginDelay,function(){yn(),jt(t,wt(e.target)),qe.forEach(function(l){window.document.addEventListener(l,zt,{passive:!1})}),Ge.forEach(function(l){window.document.addEventListener(l,mt,{passive:!1})})})}}function zt(e){e.preventDefault();var t=et(e);if(x){var n=x.container.getOptions();n.behaviour==="contain"?function(o){var r,i,d,l,p=o.clientX,a=o.clientY,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"vertical",f=x.container.layout.getBeginEndOfContainerVisibleRect();l=s==="vertical"?(r=a,i="y",d="top",x.size.offsetHeight):(r=p,i="x",d="left",x.size.offsetWidth);var _=f.begin,w=f.end-l,E=Math.max(_,Math.min(w,r+N.positionDelta[d]));N.topLeft[i]=E,x.position[i]=Math.max(f.begin,Math.min(f.end,r+N.centerDelta[i])),x.mousePosition[i]=Math.max(f.begin,Math.min(f.end,r)),x.position[i]<f.begin+l/2&&(x.position[i]=f.begin+2),x.position[i]>f.end-l/2&&(x.position[i]=f.end-2)}(t,n.orientation):Te?Te==="y"?(N.topLeft.y=t.clientY+N.positionDelta.top,x.position.y=t.clientY+N.centerDelta.y,x.mousePosition.y=t.clientY):Te==="x"&&(N.topLeft.x=t.clientX+N.positionDelta.left,x.position.x=t.clientX+N.centerDelta.x,x.mousePosition.x=t.clientX):(N.topLeft.x=t.clientX+N.positionDelta.left,N.topLeft.y=t.clientY+N.positionDelta.top,x.position.x=t.clientX+N.centerDelta.x,x.position.y=t.clientY+N.centerDelta.y,x.mousePosition.x=t.clientX,x.mousePosition.y=t.clientY),ht(),(Je=!Ee(x))&&Tn()}else jt(t,wt(e.target))}var Be,kt,Nt,xe,Tn=(Be=Ft,Nt=!(kt=20),xe=null,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];xe&&clearTimeout(xe),Nt&&!xe?Be.call.apply(Be,[null].concat(t)):xe=setTimeout(function(){xe=null,Be.call.apply(Be,[null].concat(t))},kt)});function Ft(){Je&&(Je=!1,Lt(x,W))}function mt(){qe.forEach(function(e){window.document.removeEventListener(e,zt,{passive:!1})}),Ge.forEach(function(e){window.document.removeEventListener(e,mt,{passive:!1})}),ae({reset:!0}),Ae&&(function(e){e&&typeof window<"u"&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(e)}(Ae),Ae=null),x&&(Pt.stop(),Ft(),Oe=!0,function(e){function t(){We(N.ghost,"animated"),N.ghost.style.transitionDuration=null,Rt().removeChild(N.ghost),e()}function n(D,I,se){var yt=D.top,ze=D.left;ie(N.ghost,"animated"),se&&ie(N.ghost.firstElementChild,se),N.topLeft.x=ze,N.topLeft.y=yt,ht(I),setTimeout(function(){t()},I+20)}function o(D,I){ie(N.ghost,"animated"),ht(D,.9,!0),setTimeout(function(){I()},D+20)}if(x.targetElement){var r=re.filter(function(D){return D.element===x.targetElement})[0];!(T=r.getOptions()).shouldAnimateDrop||T.shouldAnimateDrop(x.container.getOptions(),x.payload)?n(r.getDragResult().shadowBeginEnd.rect,Math.max(150,r.getOptions().animationDuration/2),r.getOptions().dropClass):t()}else{var i=re.filter(function(D){return D===x.container})[0];if(i){var d=i.getOptions(),l=d.behaviour,p=d.removeOnDropOut;if(l!=="move"&&l!=="contain"||!Ke&&p||!i.getDragResult())o(i.getOptions().animationDuration,t);else{var a=i.layout.getContainerRectangles();if(!ct(a.visibleRect)&&ct(a.lastVisibleRect))n({top:a.lastVisibleRect.top,left:a.lastVisibleRect.left},i.getOptions().animationDuration,i.getOptions().dropClass);else{var s=i.getDragResult(),f=s.removedIndex,_=s.elementSize,w=i.layout;i.getTranslateCalculator({dragResult:{removedIndex:f,addedIndex:f,elementSize:_,pos:void 0,shadowBeginEnd:void 0}});var E=0<f?w.getBeginEnd(i.draggables[f-1]).end:w.getBeginEndOfContainer().begin;n(w.getTopLeftOfElementBegin(E),i.getOptions().animationDuration,i.getOptions().dropClass)}}}else o(te.animationDuration,t)}var T}(function(){Mt(ue=!1);for(var e=W||[],t=e.shift();t!==void 0;)t.handleDrop(x),t=e.shift();Ee=Te=x=N=ce=W=null,Oe=!1}))}function et(e){return e.touches?e.touches[0]:e}function Lt(e,t){var n=!1;t.forEach(function(o){var r=o.handleDrag(e);n=!!r.containerBoxChanged||!1,r.containerBoxChanged=!1}),n&&(n=!1,requestAnimationFrame(function(){re.forEach(function(o){o.layout.invalidateRects(),o.onTranslated()})}))}function gt(e){var t=e,n=null;return function(o){return!(n!==null||!ue||Oe)&&(n=requestAnimationFrame(function(){ue&&!Oe&&(Lt(o,t),ae({draggableInfo:o})),n=null}),!0)}}function vt(e,t){return e.getOptions().autoScrollEnabled?xn(t,e.getScrollMaxSpeed()):function(n){return null}}function Mt(e){re.forEach(function(t){var n=e?t.getOptions().onDragStart:t.getOptions().onDragEnd;if(n){var o={isSource:t===x.container,payload:x.payload};t.isDragRelevant(x.container,x.payload)?o.willAcceptDrop=!0:o.willAcceptDrop=!1,n(o)}})}function jt(e,t){if(ce!==null){ue=!0;var n=re.filter(function(o){return ce.parentElement===o.element})[0];n.setDraggables(),Te=n.getOptions().lockAxis?n.getOptions().lockAxis.toLowerCase():null,x=function(o){var r=re.filter(function(p){return o.parentElement===p.element})[0],i=r.draggables.indexOf(o),d=r.getOptions().getGhostParent,l=o.getBoundingClientRect();return{container:r,element:o,size:{offsetHeight:l.bottom-l.top,offsetWidth:l.right-l.left},elementIndex:i,payload:r.getOptions().getChildPayload?r.getOptions().getChildPayload(i):void 0,targetElement:null,position:{x:0,y:0},groupName:r.getOptions().groupName,ghostParent:d?d():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(ce),N=function(o,r,i,d){var l=r.x,p=r.y,a=o.getBoundingClientRect(),s=a.left,f=a.top,_=a.right,w=a.bottom,E=G(i.layout.getContainerRectangles().visibleRect,a),T=E.left+(E.right-E.left)/2,D=E.top+(E.bottom-E.top)/2,I=o.cloneNode(!0);return I.style.zIndex="1000",I.style.boxSizing="border-box",I.style.position="fixed",I.style.top="0px",I.style.left="0px",I.style.transform=null,I.style.removeProperty("transform"),i.shouldUseTransformForGhost()?I.style.transform="translate3d(".concat(s,"px, ").concat(f,"px, 0)"):(I.style.top="".concat(f,"px"),I.style.left="".concat(s,"px")),I.style.width=_-s+"px",I.style.height=w-f+"px",I.style.overflow="visible",I.style.transition=null,I.style.removeProperty("transition"),I.style.pointerEvents="none",I.style.userSelect="none",i.getOptions().dragClass?setTimeout(function(){ie(I.firstElementChild,i.getOptions().dragClass);var se=window.getComputedStyle(I.firstElementChild).cursor;Ae=It(se)}):Ae=It(d),ie(I,i.getOptions().orientation||"vertical"),ie(I,P),{ghost:I,centerDelta:{x:T-l,y:D-p},positionDelta:{left:s-l,top:f-p},topLeft:{x:s,y:f}}}(ce,{x:e.clientX,y:e.clientY},x.container,t),x.position={x:e.clientX+N.centerDelta.x,y:e.clientY+N.centerDelta.y},x.mousePosition={x:e.clientX,y:e.clientY},W=re.filter(function(o){return o.isDragRelevant(n,x.payload)}),x.relevantContainers=W,Ee=gt(W),ae&&ae({reset:!0,draggableInfo:void 0}),ae=vt(n,W),W.forEach(function(o){return o.prepareDrag(o,W)}),Mt(!0),Ee(x),Rt().appendChild(N.ghost),Pt.start()}}var tt=null;function ht(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0&&arguments[2],o=N,r=o.ghost,i=o.topLeft,d=i.x,l=i.y,p=!x.container||x.container.shouldUseTransformForGhost(),a=p?"translate3d(".concat(d,"px,").concat(l,"px, 0)"):null;if(t!==1&&(a=a?"".concat(a," scale(").concat(t,")"):"scale(".concat(t,")")),0<e)return N.ghost.style.transitionDuration=e+"ms",void requestAnimationFrame(function(){a&&(r.style.transform=a),p||(r.style.left=d+"px",r.style.top=l+"px"),tt=null,n&&(r.style.opacity="0")});tt===null&&(tt=requestAnimationFrame(function(){a&&(r.style.transform=a),p||(r.style.left=d+"px",r.style.top=l+"px"),tt=null,n&&(r.style.opacity="0")}))}function An(){if(ue&&!Ke&&!Oe){Je=!(Ke=!0);var e=Object.assign({},x,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});W.forEach(function(t){t.handleDrag(e)}),x.targetElement=null,x.cancelDrop=!0,mt(),Ke=!1}}typeof window<"u"&&function(){if(typeof window<"u"){var e=window.document.head||window.document.getElementsByTagName("head")[0],t=window.document.createElement("style");t.id="smooth-dnd-style-definitions";var n=ut(Sn);t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(window.document.createTextNode(n)),e.appendChild(t)}}();var nt=(Pn(),{register:function(e){(function(t){re.push(t),ue&&x&&t.isDragRelevant(x.container,x.payload)&&(W.push(t),t.prepareDrag(t,W),ae&&ae({reset:!0,draggableInfo:void 0}),ae=vt(t,W),Ee=gt(W),t.handleDrag(x))})(e)},unregister:function(e){(function(t){if(re.splice(re.indexOf(t),1),ue&&x){x.container===t&&t.fireRemoveElement(),x.targetElement===t.element&&(x.targetElement=null);var n=W.indexOf(t);-1<n&&(W.splice(n,1),ae&&ae({reset:!0,draggableInfo:void 0}),ae=vt(t,W),Ee=gt(W))}})(e)},isDragging:function(){return ue},cancelDrag:An});function Vt(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:te.animationDuration;t?(ie(e,C),e.style.transitionDuration=n+"ms"):(We(e,C),e.style.removeProperty("transition-duration"))}function Ht(e){var t=[];return Array.prototype.forEach.call(e.children,function(n){if(n.nodeType===Node.ELEMENT_NODE){var o=n;lt(n,g)||(o=function(r){if(K.wrapChild){var i=window.document.createElement("div");return i.className="".concat(g),r.parentElement.insertBefore(i,r),i.appendChild(r),i}return r}(n)),o[y]=0,t.push(o)}else e.removeChild(n)}),t}function $n(e){var t=e.layout;return function(n,o){var r=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return function i(d,l,p,a){var s=4<arguments.length&&arguments[4]!==void 0&&arguments[4];if(a<p)return p;if(p===a){var f=t.getBeginEnd(d[p]),_=f.begin,w=f.end;return s?l<(w+_)/2?p:p+1:p}var E=Math.floor((a+p)/2),T=t.getBeginEnd(d[E]),D=T.begin,I=T.end;return l<D?i(d,l,p,E-1,s):I<l?i(d,l,E+1,a,s):s?l<(I+D)/2?E:E+1:E}(n,o,0,n.length-1,r)}}function Bn(e){var t=e.element,n=e.draggables,o=e.layout,r=e.getOptions,i=function(l){var p=l.element,a=l.draggables,s=l.layout;return function(){a.forEach(function(f){Vt(f,!1),s.setTranslation(f,0),s.setVisibility(f,!0)}),p[A]&&(p[A].parentNode.removeChild(p[A]),p[A]=null)}}({element:t,draggables:n,layout:o}),d=(K.dropHandler||Et)({element:t,draggables:n,layout:o,getOptions:r});return function(l,p){var a=p.addedIndex,s=p.removedIndex,f=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(i(),!l.cancelDrop&&(l.targetElement||r().removeOnDropOut||f)){var _={removedIndex:s,addedIndex:a!==null?s!==null&&s<a?a-1:a:null,payload:l.payload};d(_,r().onDrop)}}}function Wt(e){var t=e.element,n=e.getOptions,o=null;return function(r){var i=r.draggableInfo,d=o;return o==null&&i.container.element===t&&n().behaviour!=="copy"&&(d=o=i.elementIndex),{removedIndex:d}}}function Xt(e){var t=e.draggables,n=e.layout;return function(o){var r=o.dragResult;r.removedIndex!==null&&n.setVisibility(t[r.removedIndex],!1)}}function Yt(e){var t=e.element,n=e.layout;return function(o){var r=o.draggableInfo,i=document.elementFromPoint(r.position.x,r.position.y);if(i){var d=st(i,r.relevantContainers);if(d&&d.element===t)return{pos:n.getPosition(r.position)}}return{pos:null}}}function Ut(e){var t=e.layout,n=null;return function(o){var r=o.draggableInfo;return o.dragResult.pos===null?n=null:{elementSize:n=n||t.getSize(r.size)}}}function qt(e){var t=e.element;return function(n){var o=n.draggableInfo,r=n.dragResult;(function(i,d){var l=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2];d&&l?i.targetElement=d:i.targetElement===d&&(i.targetElement=null)})(o,t,!!r.pos)}}function zn(){return function(e){return e.dragResult.pos!==null?{addedIndex:0}:{addedIndex:null}}}function kn(e){var t=e.layout,n=null;return function(o){var r=o.dragResult.addedIndex;if(r===n)return null;n=r;var i=t.getBeginEndOfContainer(),d=i.begin;return i.end,{shadowBeginEnd:{rect:t.getTopLeftOfElementBegin(d)}}}}function Nn(e){var t=e.layout,n=e.element,o=e.getOptions,r=null;return function(i){var d=i.dragResult,l=d.elementSize,p=d.shadowBeginEnd,a=d.addedIndex,s=d.dropPlaceholderContainer,f=o();if(f.dropPlaceholder){var _=typeof f.dropPlaceholder=="boolean"?{}:f.dropPlaceholder,w=_.animationDuration,E=_.className,T=_.showOnTop;if(a===null)return s&&r!==null&&n.removeChild(s),r=null,{dropPlaceholderContainer:void 0};if(!s){var D=document.createElement("div"),I=document.createElement("div");I.className=fe,D.className="".concat(q," ").concat(E||R),(s=document.createElement("div")).className="".concat(Z),s.style.position="absolute",w!==void 0&&(s.style.transition="all ".concat(w,"ms ease")),s.appendChild(I),I.appendChild(D),t.setSize(s.style,l+"px"),s.style.pointerEvents="none",T?n.appendChild(s):n.insertBefore(s,n.firstElementChild)}return r!==a&&p.dropArea&&t.setBegin(s.style,p.dropArea.begin-t.getBeginEndOfContainer().begin+"px"),r=a,{dropPlaceholderContainer:s}}return null}}function Fn(e){var t=Kt(e);return function(n){var o=n.draggableInfo,r=n.dragResult;return o.invalidateShadow?t({draggableInfo:o,dragResult:r}):null}}function Ln(e){var t=function(n){var o=n.draggables,r=$n({layout:n.layout});return function(i){var d=i.dragResult,l=d.shadowBeginEnd,p=d.pos;if(l)return l.begin+l.beginAdjustment<=p&&l.end>=p?null:p<l.begin+l.beginAdjustment?r(o,p):p>l.end?r(o,p)+1:o.length;var a=r(o,p,!0);return a!==null?a:o.length}}(e);return function(n){var o=n.dragResult,r=null;return o.pos!==null&&(r=t({dragResult:o}))===null&&(r=o.addedIndex),{addedIndex:r}}}function Mn(){var e=null;return function(t){var n=t.dragResult,o=n.addedIndex,r=n.shadowBeginEnd;o!==e&&e!==null&&r&&(r.beginAdjustment=0),e=o}}function jn(e){var t=e.element,n=e.draggables,o=e.layout,r=e.getOptions,i=null;return function(d){var l=d.dragResult,p=l.addedIndex,a=l.removedIndex,s=l.elementSize;if(a===null){if(p!==null){if(!i){var f=o.getBeginEndOfContainer();f.end=f.begin+o.getSize(t);var _=o.getScrollSize(t)>o.getSize(t)?f.begin+o.getScrollSize(t)-o.getScrollValue(t):f.end,w=0<n.length?o.getBeginEnd(n[n.length-1]).end-n[n.length-1][y]:f.begin;if(_<w+s){(i=window.document.createElement("div")).className=z+" "+r().orientation;var E=0<n.length?s+w-_:s;return o.setSize(i.style,"".concat(E,"px")),t.appendChild(i),t[A]=i,{containerBoxChanged:!0}}}}else if(i){o.setTranslation(i,0);var T=i;return i=null,t.removeChild(T),{containerBoxChanged:!(t[A]=null)}}}}}function Gt(e){var t=e.draggables,n=e.layout,o=null,r=null;return function(i){var d=i.dragResult,l=d.addedIndex,p=d.removedIndex,a=d.elementSize;if(l!==o||p!==r){for(var s=0;s<t.length;s++)if(s!==p){var f=t[s],_=0;p!==null&&p<s&&(_-=a),l!==null&&l<=s&&(_+=a),n.setTranslation(f,_)}return{addedIndex:o=l,removedIndex:r=p}}}}function Kt(e){var t=e.draggables,n=e.layout,o=null;return function(r){var i=r.draggableInfo,d=r.dragResult,l=d.addedIndex,p=d.removedIndex,a=d.elementSize,s=d.pos,f=d.shadowBeginEnd;if(s===null)return{shadowBeginEnd:o=null};if(l===null||!i.invalidateShadow&&l===o)return null;var _=l-1,w=Number.MIN_SAFE_INTEGER,E=0,T=0,D=null,I=null;if(_===p&&_--,-1<_){var se=n.getSize(t[_]);if(I=n.getBeginEnd(t[_]),a<se){var yt=(se-a)/2;w=I.end-yt}else w=I.end;E=I.end}else I={end:n.getBeginEndOfContainer().begin},E=n.getBeginEndOfContainer().begin;var ze=Number.MAX_SAFE_INTEGER,ke=l;if(ke===p&&ke++,ke<t.length){var tn=n.getSize(t[ke]);if(D=n.getBeginEnd(t[ke]),a<tn){var Wn=(tn-a)/2;ze=D.begin+Wn}else ze=D.begin;T=D.begin}else D={begin:n.getContainerRectangles().rect.end},T=n.getContainerRectangles().rect.end-n.getContainerRectangles().rect.begin;var Xn=I&&D?n.getTopLeftOfElementBegin(I.end):null;return o=l,{shadowBeginEnd:{dropArea:{begin:E,end:T},begin:w,end:ze,rect:Xn,beginAdjustment:f?f.beginAdjustment:0}}}}function Vn(){var e=null;return function(t){var n=t.dragResult,o=n.pos,r=n.addedIndex,i=n.shadowBeginEnd;if(o!==null){if(r!=null&&e===null){if(o<i.begin){var d=o-i.begin-5;i.beginAdjustment=d}e=r}}else e=null}}function Jt(e){var t=e.getOptions,n=!1,o=t();return function(r){var i=!!r.dragResult.pos;i!==n&&((n=i)?o.onDragEnter&&o.onDragEnter():o.onDragLeave&&o.onDragLeave())}}function Qt(e){var t=e.getOptions,n=null,o=t();return function(r){var i=r.dragResult,d=i.addedIndex,l=i.removedIndex,p=r.draggableInfo,a=p.payload,s=p.element;if(o.onDropReady&&d!==null&&n!==d){var f=n=d;l!==null&&l<d&&f--,o.onDropReady({addedIndex:f,removedIndex:l,payload:a,element:s?s.firstElementChild:void 0})}}}function Zt(e){return e.getOptions().behaviour==="drop-zone"?en(e)(Wt,Xt,Yt,Ut,qt,zn,kn,Jt,Qt):en(e)(Wt,Xt,Yt,Ut,qt,Fn,Ln,Mn,jn,Gt,Kt,Nn,Vn,Jt,Qt)}function en(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n.map(function(d){return d(e)}),i=null;return function(d){return i=r.reduce(function(l,p){return Object.assign(l,p({draggableInfo:d,dragResult:l}))},i||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function Hn(e){return function(t){var n=Object.assign({},te,t),o=null,r=null,i=function(_,w){var E=Ht(_),T=w();return ie(_,"".concat(S," ").concat(T.orientation)),{element:_,draggables:E,getOptions:w,layout:wn(_,T.orientation,T.animationDuration)}}(e,f),d=Zt(i),l=Bn(i),p=function(_,w){var E=[];function T(){E&&(E.forEach(function(D){return D.removeEventListener("scroll",w)}),window.removeEventListener("scroll",w))}return function(){for(var D=_;D;)(Ve(D,"x")||Ve(D,"y"))&&E.push(D),D=D.parentElement}(),{dispose:function(){T(),E=null},start:function(){E&&(E.forEach(function(D){return D.addEventListener("scroll",w)}),window.addEventListener("scroll",w))},stop:T}}(e,function(){i.layout.invalidateRects(),a()});function a(){r!==null&&(r.invalidateShadow=!0,o=d(r),r.invalidateShadow=!1)}function s(_,w){for(var E=Ht(w),T=0;T<E.length;T++)_[T]=E[T];for(var D=0;D<_.length-E.length;D++)_.pop()}function f(){return n}return{element:e,draggables:i.draggables,isDragRelevant:function(_){var w=_.element,E=_.getOptions;return function(T,D){var I=E();if(I.shouldAcceptDrop)return I.shouldAcceptDrop(T.getOptions(),D);var se=T.getOptions();return I.behaviour!=="copy"&&oe(w,"."+g)!==T.element&&(T.element===w||!(!se.groupName||se.groupName!==I.groupName))}}(i),layout:i.layout,dispose:function(_){p.dispose(),function(w){K.wrapChild&&Array.prototype.forEach.call(w.children,function(E){E.nodeType===Node.ELEMENT_NODE&&lt(E,g)&&(w.insertBefore(E.firstElementChild,E),w.removeChild(E))})}(_.element)},prepareDrag:function(_,w){var E=_.element,T=i.draggables;s(T,E),_.layout.invalidateRects(),T.forEach(function(D){return Vt(D,!0,f().animationDuration)}),p.start()},handleDrag:function(_){return o=d(r=_)},handleDrop:function(_){p.stop(),o&&o.dropPlaceholderContainer&&e.removeChild(o.dropPlaceholderContainer),r=null,d=Zt(i),l(_,o),o=null},fireRemoveElement:function(){l(r,Object.assign({},o,{addedIndex:null}),!0),o=null},getDragResult:function(){return o},getTranslateCalculator:function(_){return Gt(i)(_)},onTranslated:function(){a()},setDraggables:function(){s(i.draggables,e)},getScrollMaxSpeed:function(){return K.maxScrollSpeed},shouldUseTransformForGhost:function(){return K.useTransformForGhost===!0},getOptions:f,setOptions:function(_){var w=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];n=w===!1?Object.assign({},te,_):Object.assign({},te,n,_)}}}}var K=function(e,t){var n=Hn(e)(t);return e[h]=n,nt.register(n),{dispose:function(){nt.unregister(n),n.dispose(n)},setOptions:function(o,r){n.setOptions(o,r)}}};function ot(e,t,n){Object.defineProperty(e,n,{set:function(o){t[n]=o},get:function(){return t[n]}})}K.wrapChild=!0,K.cancelDrag=function(){nt.cancelDrag()},K.isDragging=function(){return nt.isDragging()};function ge(e,t){return console.warn('default export is deprecated. please use named export "smoothDnD"'),K(e,t)}ge.cancelDrag=function(){K.cancelDrag()},ge.isDragging=function(){return K.isDragging()},ot(ge,K,"useTransformForGhost"),ot(ge,K,"maxScrollSpeed"),ot(ge,K,"wrapChild"),ot(ge,K,"dropHandler"),u.smoothDnD=K,u.constants=be,u.dropHandlers=_n,u.default=ge,Object.defineProperty(u,"__esModule",{value:!0})})}(Ne,Ne.exports)),Ne.exports}var Le=Ro();function pn(m){return m?typeof m=="string"||typeof m=="object"&&(typeof m.value=="string"||typeof m.value=="function"||typeof m.value=="object"):!0}function mn(m,v){const u=m.$props.tag;if(u){if(typeof u=="string"){const c={value:u};return v&&(c.props={class:v}),c}else if(typeof u=="object"){const c={value:u.value||"div",props:u.props||{}};return v&&(c.props.class?Array.isArray(c.props.class)?c.props.class.push(v):c.props.class=[v,c.props.class]:c.props.class=v),c}}return{value:"div"}}Le.smoothDnD.dropHandler=Le.dropHandlers.reactDropHandler().handler;Le.smoothDnD.wrapChild=!1;const on={"drag-start":"onDragStart","drag-end":"onDragEnd",drop:"onDrop","drag-enter":"onDragEnter","drag-leave":"onDragLeave","drop-ready":"onDropReady"};var Oo=J({name:"Container",mounted(){const m=Object.assign({},this.$props);for(const v in on)m[on[v]]=u=>{this.$emit(v,u)};this.containerElement=this.$refs.container||this.$el,this.container=Le.smoothDnD(this.containerElement,m)},unmounted(){if(this.container)try{this.container.dispose()}catch{}},emits:["drop","drag-start","drag-end","drag-enter","drag-leave","drop-ready"],props:{orientation:{type:String,default:"vertical"},removeOnDropOut:{type:Boolean,default:!1},autoScrollEnabled:{type:Boolean,default:!0},animationDuration:{type:Number,default:250},behaviour:String,groupName:String,dragHandleSelector:String,nonDragAreaSelector:String,lockAxis:String,dragClass:String,dropClass:String,dragBeginDelay:Number,getChildPayload:Function,shouldAnimateDrop:Function,shouldAcceptDrop:Function,getGhostParent:Function,dropPlaceholder:[Object,Boolean],tag:{validator:pn,default:"div"}},render(){const m=mn(this);return an(m.value,Object.assign({},{ref:"container"},m.props),this.$slots.default())}}),To=J({name:"Draggable",props:{tag:{validator:pn,default:"div"}},render:function(){const m=mn(this,Le.constants.wrapperClass);return an(m.value,Object.assign({},m.props),this.$slots.default())}}),_t=(m=>(m[m.LEFT=0]="LEFT",m[m.RIGHT=1]="RIGHT",m))(_t||{});const gn=(m,v)=>{const{x:u}=lo(m,{behavior:"smooth"}),c=g=>{u.value=g??0},b=g=>{var C;u.value=g??((C=m.value)==null?void 0:C.clientWidth)},h=g=>{const C=g.direction,y=g.value;switch(C){case 0:c(y);break;case 1:b(y);break}};return co(u,g=>{v(g)},{debounce:100}),{x:u,scrollTo:h}},Ao=m=>{const v=ee(!1),u=ee(!1),c=h=>{var g,C;for(const y of h){const $=((g=m.value[0])==null?void 0:g.$el)===y.target,P=((C=m.value[m.value.length-1])==null?void 0:C.$el)===y.target,S=y.isIntersecting;$&&(v.value=!($&&S)),P&&(u.value=!(P&&S))}},{stop:b}=dn(m,c);return sn(()=>{b()}),{isLeftArrowShown:v,isRightArrowShown:u}},$o={key:1,class:"compare-list-items_list"},Bo=J({__name:"compare-list-items",props:{items:{},scrollPosition:{},isIntersectionWithTable:{type:Boolean}},emits:["drop","removeItem","scroll"],setup(m,{emit:v}){const u=m,c=v,b=rt("scrollContainerRef"),h=ee([]),{isMinWidthMd:g}=Ct(),{x:C,scrollTo:y}=gn(b,A=>{A!==u.scrollPosition&&g.value&&c("scroll",A)}),{isRightArrowShown:$,isLeftArrowShown:P}=Ao(h),S=Se(()=>g.value&&u.isIntersectionWithTable),k=()=>{y({direction:_t.RIGHT})},z=()=>{y({direction:_t.LEFT})};return ln(()=>u.scrollPosition,A=>{C.value!==A&&(C.value=A)}),(A,X)=>{const V=Io,Q=so;return B(),F("div",{class:ye(["compare-list-items",{"compare-list-items__border":A.isIntersectionWithTable}])},[O(g)?(B(),F("div",{key:0,ref_key:"scrollContainerRef",ref:b,class:"compare-list-items_scroll"},[L(O(Oo),{"drag-handle-selector":".compare-product-tools_button__drag",class:"compare-list-items_list",orientation:"horizontal",onDrop:X[0]||(X[0]=R=>A.$emit("drop",R))},{default:de(()=>[(B(!0),F(_e,null,Ie(A.items,R=>(B(),Pe(O(To),{key:R.order,tag:"div"},{default:de(()=>[L(V,{ref_for:!0,ref_key:"compareProductsRef",ref:h,product:R,"is-hide-image":O(S),onRemove:q=>A.$emit("removeItem",R.id)},null,8,["product","is-hide-image","onRemove"])]),_:2},1024))),128))]),_:1})],512)):(B(),F("div",$o,[(B(!0),F(_e,null,Ie(A.items,R=>(B(),Pe(V,{key:R.order,product:R,"is-hide-image":O(S),onRemove:q=>A.$emit("removeItem",R.id)},null,8,["product","is-hide-image","onRemove"]))),128))])),De(L(Q,{ref:"leftButtonRef",type:"left",class:"compare-list-items_arrow compare-list-items_arrow__left",onOnClick:z},null,512),[[Fe,O(P)]]),De(L(Q,{ref:"rightButtonRef",type:"right",class:"compare-list-items_arrow compare-list-items_arrow__right",onOnClick:k},null,512),[[Fe,O($)]])],2)}}}),zo=ne(Bo,[["__scopeId","data-v-24886884"]]),ko={class:"compare-table-characteristic"},No={class:"compare-table-characteristic_product-name"},Fo=["innerHTML"],Lo={key:1},Mo=J({__name:"compare-table-characteristic",props:{items:{},feature:{}},setup(m){const{getSanitizeHtml:v}=uo(),{isMinWidthMd:u}=Ct(),c=ee(!1),b=()=>{u.value||(c.value=!c.value)};return(h,g)=>{const C=at;return B(),F("div",ko,[M("h4",{class:"compare-table-characteristic_title",onClick:b},[he(U(h.feature.name)+" ",1),L(C,{icon:"chevronIcon",class:ye(["compare-table-characteristic_icon",{"compare-table-characteristic_icon__rotated":O(c)}])},null,8,["class"])]),M("ul",{class:ye(["compare-table-characteristic_list",{"compare-table-characteristic_list__expanded":O(c)}])},[(B(!0),F(_e,null,Ie(h.items,y=>(B(),F("li",{key:y.id,class:"compare-table-characteristic_item"},[M("span",No,U(y.name),1),h.feature.value[y.id]?(B(),F("span",{key:0,innerHTML:O(v)(h.feature.value[y.id])},null,8,Fo)):(B(),F("span",Lo,U(h.$t("no_data")),1))]))),128))],2)])}}}),jo=ne(Mo,[["__scopeId","data-v-ee4b3aec"]]),Vo={class:"compare-table-characteristics_wrapper"},Ho=J({__name:"compare-table-characteristics",props:{featuresGroup:{},items:{},isShowDifference:{type:Boolean},isShowCoincidence:{type:Boolean},scrollPosition:{}},emits:["scroll"],setup(m,{emit:v}){const u=m,c=v,b=rt("scrollContainerRef"),{isMinWidthMd:h}=Ct(),{x:g}=gn(b,y=>{y!==u.scrollPosition&&h.value&&c("scroll",y)}),C=y=>u.isShowDifference?y.isDifference:u.isShowCoincidence?y.isCoincidence:!0;return ln(()=>u.scrollPosition,y=>{g.value!==y&&(g.value=y)}),(y,$)=>{const P=jo,S=qn("dragscroll");return De((B(),F("div",{ref_key:"scrollContainerRef",ref:b,class:"compare-table-characteristics"},[M("div",Vo,[(B(!0),F(_e,null,Ie(y.featuresGroup,(k,z)=>(B(),F(_e,{key:k.name+z},[C(k)?(B(),Pe(P,{key:0,items:y.items,feature:k},null,8,["items","feature"])):cn("",!0)],64))),128))])])),[[S,void 0,void 0,{x:!0}]])}}}),Wo=ne(Ho,[["__scopeId","data-v-28f2759a"]]);var Re=(m=>(m.ALL="all",m.DIFFERENCES="differences",m.COINCIDENCES="coincidences",m))(Re||{});const Xo={class:"compare-table"},Yo={class:"compare-table_title"},Uo=J({__name:"compare-table",props:{table:{},items:{},option:{},scrollPosition:{}},emits:["scroll"],setup(m){const v=m,u=Se(()=>v.option===Re.DIFFERENCES&&v.table.some(h=>h.isExistOtherDifference)),c=Se(()=>v.option===Re.COINCIDENCES&&v.table.some(h=>h.isExistOtherCoincidence)),b=h=>h.value.length&&u.value?h.isDifference:c.value?h.isCoincidence:!0;return(h,g)=>(B(),F("div",Xo,[(B(!0),F(_e,null,Ie(h.table,(C,y)=>De((B(),F("div",{key:C.name+y},[M("h3",Yo,U(C.name),1),L(Wo,{"is-show-difference":O(u),"is-show-coincidence":O(c),"features-group":C.value,"scroll-position":h.scrollPosition,items:h.items,onScroll:g[0]||(g[0]=$=>h.$emit("scroll",$))},null,8,["is-show-difference","is-show-coincidence","features-group","scroll-position","items"])],512)),[[Fe,b(C)]])),128))]))}}),qo=ne(Uo,[["__scopeId","data-v-991d774c"]]),Go={class:"message"},Ko=J({__name:"ui-message",props:{message:{}},setup(m){return(v,u)=>{const c=at;return B(),F("div",Go,[L(c,{class:"message_icon",icon:"warningWithBorderIcon"}),M("span",null,U(v.message),1)])}}}),Jo=ne(Ko,[["__scopeId","data-v-5ec36f98"]]),Qo=J({__name:"compare-filter-variant",props:{value:{},selectedValue:{}},emits:["click"],setup(m){const v=m;return(u,c)=>(B(),F("button",{class:ye(["compare-filter-variant",{"compare-filter-variant__active":u.value===v.selectedValue}]),onClick:c[0]||(c[0]=b=>u.$emit("click",u.value))},U(u.$t(u.value)),3))}}),Zo=ne(Qo,[["__scopeId","data-v-e65bf518"]]),er={class:"compare-category-actions"},tr={class:"compare-category-actions_wrapper"},nr={class:"compare-category-actions_icon-wrapper"},or={class:"compare-category-actions_title"},rr={class:"compare-category-actions_description"},ar={class:"compare-category-actions_buttons"},ir=J({__name:"compare-category-actions",props:{selectedCategory:{}},emits:["deleteCategory"],setup(m,{emit:v}){const u=v,c=ee(!1),b=()=>{u("deleteCategory"),c.value=!1};return(h,g)=>{const C=bt,y=at,$=po;return B(),F("div",er,[L(C,{secondary:"",class:"compare-category-actions_delete",onClick:g[0]||(g[0]=P=>c.value=!0)},{default:de(()=>[he(U(h.$t("compare_clear_category")),1)]),_:1}),L($,{modelValue:O(c),"onUpdate:modelValue":g[2]||(g[2]=P=>Gn(c)?c.value=P:null),"max-width":604},{default:de(()=>[M("div",tr,[M("div",nr,[L(y,{icon:"close",class:"compare-category-actions_icon"})]),M("h3",or,U(h.$t("compare_clear_category")),1),M("p",rr,U(h.$t("clear_category_dialog_text")),1),M("div",ar,[L(C,{onClick:g[1]||(g[1]=P=>c.value=!1)},{default:de(()=>[he(U(h.$t("cancel")),1)]),_:1}),L(C,{secondary:"",onClick:b},{default:de(()=>[he(U(h.$t("clear")),1)]),_:1})])])]),_:1},8,["modelValue"])])}}}),sr=ne(ir,[["__scopeId","data-v-6bb8bd27"]]),lr={class:"compare-options_wrapper"},cr={class:"compare-options_filters"},ur={class:"compare-options_variants"},dr=J({__name:"compare-options",props:{categories:{},selectedCategory:{},hideCategorySelect:{type:Boolean}},emits:["setOption","changeCategory","deleteCategory"],setup(m,{emit:v}){const u=v,{isHidden:c}=fn(),b=Object.values(Re),h=ee(Re.ALL),g=C=>{h.value=C,u("setOption",C)};return(C,y)=>{const $=fo,P=Zo;return B(),F("div",{class:ye(["compare-options",{"compare-options__sticky-top":O(c)}])},[M("div",lr,[M("div",cr,[C.hideCategorySelect?cn("",!0):(B(),Pe($,{key:0,class:"compare-options_category-select","model-value":C.selectedCategory,options:C.categories,small:"","onUpdate:modelValue":y[0]||(y[0]=S=>C.$emit("changeCategory",S))},null,8,["model-value","options"])),M("div",ur,[(B(!0),F(_e,null,Ie(O(b),(S,k)=>(B(),Pe(P,{key:`filter-${S}-${k}`,value:S,"selected-value":O(h),onClick:g},null,8,["value","selected-value"]))),128))])]),L(sr,{"selected-category":C.selectedCategory,onDeleteCategory:y[1]||(y[1]=S=>C.$emit("deleteCategory"))},null,8,["selected-category"])])],2)}}}),fr=ne(dr,[["__scopeId","data-v-11f3b488"]]),pr={class:"compare-not-found"},mr={class:"compare-not-found_title"},gr=J({__name:"compare-not-found",setup(m){const v=rn();return(u,c)=>{const b=bt;return B(),F("div",pr,[M("h2",mr,U(u.$t("not_found_compare_title")),1),L(b,{href:O(v)("/")},{default:de(()=>[he(U(u.$t("add_item")),1)]),_:1},8,["href"])])}}}),vr=ne(gr,[["__scopeId","data-v-ecf81baf"]]),hr=(m,v)=>{const{removedIndex:u,addedIndex:c,payload:b}=v;if(u===null&&c===null)return m;const h=[...m];let g=b;return u!==null&&(g=h.splice(u,1)[0]),c!==null&&h.splice(c,0,g),h},yr=()=>new Map,_r=()=>new Map,br=()=>({}),Cr=(m,v,u,c,b)=>{const h=c.get(v.externalCfId);if(h){h.has(u.name)||h.set(u.name,{});const C=h.get(u.name);C&&(C[m.id]=u.value)}if(b&&!(b!=null&&b.has(u.name))){b.set(u.name,{isDifference:!0,isCoincidence:!0,difference:new Set([u.value]),coincidence:u.value,coincidenceCount:1});return}const g=b==null?void 0:b.get(u.name);g&&(g.difference.has(u.value)?g.isDifference=!1:g.difference.add(u.value),g.coincidence===u.value?g.coincidenceCount++:g.isCoincidence=!1)},wr=(m,v,u,c,b)=>{u.has(v.externalCfId)||(u.set(v.externalCfId,new Map),c.set(v.externalCfId,new Map));const h=c.get(v.externalCfId);b[v.externalCfId]||(b[v.externalCfId]=v.name),v.features.forEach(g=>{Cr(m,v,g,u,h)})};function Er(m){const v=()=>{const b=yr(),h=_r(),g=br();return m.value.forEach(C=>{C.featureGroups.forEach(y=>{wr(C,y,b,h,g)})}),{compareTable:b,compareOptions:h,featureGroupIdAndName:g}},u=(b,h,g)=>{const C=[];let y=!1,$=!1;for(const[P,S]of b){let k=!1,z=!1;const A=h.get(P),X=Array.from(S,([V,Q])=>{const R=A==null?void 0:A.get(V),q=A&&R?R.difference.size===m.value.length&&R.isDifference:!1,Z=A&&R?R.coincidenceCount===m.value.length&&R.isCoincidence:!1;return k||(k=q),z||(z=Z),{name:V,value:Q,isDifference:q,isCoincidence:Z}}).sort((V,Q)=>{var R;return(R=V.name)==null?void 0:R.localeCompare(Q==null?void 0:Q.name)});y||(y=k),$||($=z),C.push({name:g[P],value:X,isDifference:k,isCoincidence:z,isExistOtherDifference:!1,isExistOtherCoincidence:!1})}return C.sort((P,S)=>(P.isExistOtherDifference=y,S.isExistOtherCoincidence=$,P.name.localeCompare(S.name))),C};return{characteristicTable:Se(()=>{const{compareTable:b,compareOptions:h,featureGroupIdAndName:g}=v();return u(b,h,g)})}}const xr=()=>{const m=Kn(new Map),v=Se(()=>m.size>0),u=y=>m.has(y);return{addProductToCategory:(y,$)=>{var P;u(y)||m.set(y,[]),(P=m.get(y))==null||P.push($)},removeCategory:y=>{m.delete(y)},getProductsByCategory:y=>m.get(y)||[],getFirstCategory:()=>m.entries().next().value,setProductsToCategory:(y,$)=>{m.set(y,$)},hasCategory:u,isCompatibleSize:v}},Sr=(m,v)=>v===m.id?m.id:null,Dr="shared",Ir=(m,v,u)=>{const c=un(),{getFirstCategory:b,getProductsByCategory:h,hasCategory:g,removeCategory:C,setProductsToCategory:y,isCompatibleSize:$,addProductToCategory:P}=xr(),S=()=>{const[R,q]=b();m.value=R,u.value=q},k=(R,q,Z)=>{g(R)||v.value.push({label:R||Dr,value:R}),P(R,{...q,order:Z})},z=()=>{C(m.value),v.value=v.value.filter(R=>R.value!==m.value),$.value?X():u.value=[]},A=R=>{var fe,be;const q=(fe=c==null?void 0:c.query)==null?void 0:fe.productId;let Z=null;return R.forEach((te,me)=>{k(te.productType,te,me),Z=Sr(te,q)}),Z??((be=v.value[0])==null?void 0:be.value)},X=R=>{R?(m.value=R,u.value=h(m.value)):S()};return{removeCurrentCategory:z,makeCategories:A,setCategory:X,getCategoryProducts:R=>h(R),setProductsToCategory:R=>{R.length?(y(m.value,R),u.value=R):z()}}},Pr=()=>({fetchProducts:async u=>{var c;try{const b=u.join(","),h=await mo.getProducts({search:`id:${b}`,searchFields:"id:in","includes[]":"features",limit:100});return Jn.camelizeKeys(((c=h==null?void 0:h.data)==null?void 0:c.data)||[])}catch{return[]}},mapProductIds:u=>u.map(c=>c.id)}),Rr=m=>{const v=ee(!1),{stop:u}=dn(m,([c])=>{v.value=c.isIntersecting},{threshold:.15});return sn(()=>{u()}),{isIntersectionWithTable:v}},Or={class:"compare-list"},Tr={key:0,class:"compare-list_loader"},Ar={key:1},$r=J({__name:"compare-list",props:{ids:{}},emits:["removeProduct","actualIds"],async setup(m,{emit:v}){let u,c;const b=m,h=v,g=ee(!0),C=Se(()=>P.value.length>1),y=ee(0),$=ee([]),P=Qn([]),S=ee(""),k=ee(Re.ALL),z=rt("compareOptionsRef"),A=rt("compareTableRef"),{fetchProducts:X,mapProductIds:V}=Pr(),{isIntersectionWithTable:Q}=Rr(A),{isHidden:R}=fn(),{characteristicTable:q}=Er(P),{removeCurrentCategory:Z,makeCategories:fe,setCategory:be,getCategoryProducts:te,setProductsToCategory:me}=Ir(S,$,P),j=async G=>{P.value=hr(P.value,G)},Me=async()=>{const G=V(te(S.value));Z(),h("removeProduct",G)},je=async G=>{const Y=te(S.value).filter(pe=>pe.id!==G);me(Y),h("removeProduct",G)},it=async G=>{S.value=G;const Y=te(G);Y&&(P.value=Y)};async function Ve(){if(b.ids.length){const G=await X(b.ids),Y=fe(G);Y&&(be(Y),h("actualIds",V(G)))}g.value=!1}return[u,c]=Zn(()=>Ve()),await u,c(),(G,Y)=>{const pe=Yn,Ce=zo,He=qo,st=Jo;return B(),F("div",Or,[O(g)?(B(),F("div",Tr,[L(pe)])):O(P).length?(B(),F("div",Ar,[M("div",{class:ye(["compare-list_sticky-container",{"compare-list_sticky-container__sticky-top":O(R),"compare-list_sticky-container__static":!O(C)}])},[L(fr,{ref_key:"compareOptionsRef",ref:z,categories:O($),"selected-category":O(S),onSetOption:Y[0]||(Y[0]=oe=>k.value=oe),onChangeCategory:it,onDeleteCategory:Me},null,8,["categories","selected-category"]),L(Ce,{items:O(P),"scroll-position":O(y),"is-intersection-with-table":O(Q),onRemoveItem:je,onDrop:j,onScroll:Y[1]||(Y[1]=oe=>y.value=oe)},null,8,["items","scroll-position","is-intersection-with-table"])],2),De(L(He,{ref_key:"compareTableRef",ref:A,table:O(q),option:O(k),"scroll-position":O(y),items:O(P),onScroll:Y[2]||(Y[2]=oe=>y.value=oe)},null,8,["table","option","scroll-position","items"]),[[Fe,O(C)]]),De(L(st,{message:G.$t("not_enough_compare_products"),class:"compare-list_tooltip"},null,8,["message"]),[[Fe,!O(C)]])])):(B(),Pe(vr,{key:2}))])}}}),Br=ne($r,[["__scopeId","data-v-05c34547"]]),zr={class:"compare-page"},kr={class:"compare-page_title-wrapper"},Nr={class:"compare-page_title"},Fr=J({__name:"index",setup(m){const v=un(),u=eo(),{compareState:c,removeFromCompare:b}=go(),h=to(),g=ee([]),C=ee(!1),y=S=>(S==null?void 0:S.split(",").map(k=>+k))??[],$=S=>{if(C.value){const k=v.query.ids,z=y(k);let A;if(Array.isArray(S)){const X=g.value.map(V=>+V);A=z==null?void 0:z.filter(V=>!X.includes(+V))}else A=z==null?void 0:z.filter(X=>+X!=+S);u.replace({query:{ids:A==null?void 0:A.join(",")}})}else b(S)},P=S=>{const k=g.value.filter(z=>!S.includes(z));$(k)};return no(()=>{const S=v.query.ids;h.isComparePage=!0,S?(g.value=y(S),C.value=!0):(g.value=c.value??[],C.value=!1)}),oo(()=>{h.isComparePage=!1}),(S,k)=>{const z=Br;return B(),F("div",zr,[M("h1",kr,[M("span",Nr,U(S.$t("comparison_of_products")),1)]),L(z,{ids:O(g),onRemoveProduct:$,onActualIds:P},null,8,["ids"])])}}}),ra=ne(Fr,[["__scopeId","data-v-93e076bd"]]);export{ra as default};
