import{_ as j}from"./C1bY634J.js";import{_ as F}from"./Csz6-sdz.js";import{u as J,_ as R}from"./CNf1FbPc.js";import{d as T,b as z,s as u,r as v,x as m,p as g,c as y,j as w,m as o,o as c,t as P,l as H,P as K,q as O,M as Q,n as W,J as B,_ as X}from"./Pd6RrLp1.js";import{u as Y}from"./Cubs7ceE.js";import{u as Z}from"./CiYsyl20.js";import"./CuRHY0aD.js";import"./DDeKuuea.js";import"./qKLLgZOX.js";import"./B-l2-lBV.js";import"./BRd7Y3HP.js";import"./BdleNovN.js";import"./DrybQeLc.js";import"./Cuh519_O.js";import"./C3MdYnyV.js";import"./DV533Gpo.js";import"./DcmtLR2x.js";import"./B4ouTiC0.js";import"./UMgXyzVE.js";import"./CcjC4gLZ.js";import"./DqO2dBIS.js";const $={key:1,class:"main-wrapper"},ee={key:0,class:"main-slider"},te=T({__name:"index",props:{useSeo:{type:Boolean,default:!0}},async setup(h){let r,s;const S=h,{locale:k}=z(),{pushGtmEvent:x}=O(),{isLoading:d,startLoading:b,stopLoading:C}=Z(!0),{fetchConstructorPayload:G}=J(),{setMetaToStaticPage:L}=Y(),t=u(null),_=u({}),i=u([]),f=v(5e3),p=v(!1),q=e=>{e&&(i.value=e.banners,f.value=e.frequencySlider||5e3)},A=m(()=>p.value?!!i.value:!0),M=async()=>{var e,l,n;try{const a=await K.getAggregatePageBySlug("main",{type:"main page"});t.value=(e=a==null?void 0:a.data)==null?void 0:e.data,(l=t.value)!=null&&l.blocks&&(_.value=await G(t.value.blocks))}catch(a){console.error(a)}finally{x("pageview",{title:(n=t.value)==null?void 0:n.seo_title})}},N=m(()=>{var e;return(e=t.value)==null?void 0:e.categories});B("categories",N);const D=m(()=>{var e;return(e=t.value)==null?void 0:e.products});B("products",D);const E=async()=>{try{const e=await Q.getGroupBy(W.homePreviewSlider,k.value);return e&&q(e),p.value=!0,e}catch{return[]}};b();const I=M(),U=E();return[r,s]=g(()=>I),await r,s(),[r,s]=g(()=>U),await r,s(),C(),S.useSeo&&L(t),(e,l)=>{const n=j,a=F,V=R;return o(d)?(c(),y(n,{key:0})):(c(),w("div",$,[o(A)&&!o(d)?(c(),w("div",ee,[H(a,{slides:o(i),pagination:!0,frequency:o(f),"is-loaded":o(p)},null,8,["slides","frequency","is-loaded"])])):P("",!0),o(t)?(c(),y(V,{key:1,"page-data":o(t),payload:o(_)},null,8,["page-data","payload"])):P("",!0)]))}}}),Se=X(te,[["__scopeId","data-v-0ed5c425"]]);export{Se as default};
