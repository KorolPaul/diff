import{_ as _e}from"./W68msiwk.js";import{b as re,r as M,x as A,j as N,t as D,o as y,k as E,l as W,z as X,m as s,y as C,O as ce,B as ae,C as Fe,d as ie,i as fe,ad as ke,c as Y,F as te,L as oe,A as Pe,u as ue,G as he,w as se,g as be,D as Se,E as Ce,M as pe,q as $e,f as qe,a0 as we}from"./Pd6RrLp1.js";import{S as Me}from"./Chqo76C3.js";import{_ as Ae}from"./BrwUmeBJ.js";import{_ as Te}from"./BJt_w7Hb.js";import{u as ge}from"./BSts32E-.js";import{u as ve}from"./CasWryfL.js";import{u as le}from"./ckAQI_px.js";import{_ as Be}from"./CjGb2l7u.js";import{_ as Ne,a as Le,b as Ve,g as xe,u as Ee,c as Oe,d as Re}from"./9O3XjtsJ.js";import{_ as De}from"./qKLLgZOX.js";import{u as Ie}from"./CyMuBQOc.js";import{u as je}from"./Crd-_VjE.js";import{f as Ke}from"./C3hfG10U.js";import{u as Qe}from"./Cc_MbB92.js";import"./QJ3VVsaT.js";import"./Cuh519_O.js";import"./DDeKuuea.js";import"./CyGIhy1v.js";import"./DqO2dBIS.js";import"./DcmtLR2x.js";import"./0zS85Q81.js";import"./C3QHuKV1.js";import"./pvpDbLJt.js";import"./1OVHT2GX.js";import"./T4kW5CUp.js";import"./CcjC4gLZ.js";import"./C1bY634J.js";import"./CuRHY0aD.js";import"./B4ouTiC0.js";const Ue=()=>{const{locale:p}=re(),l=800,k=M(!1),n=M(null),P=M(1),O=M(null);let b=-1/0;const w=d=>{const{scrollHeight:x,scrollTop:g,offsetHeight:G}=d.target;return b=Math.max(b,G+g),b>=x-l},T=d=>{b=d},v=d=>{k.value=d},m=d=>{n.value=d},S=d=>{P.value=d},Q=()=>n.value?n.value.currentPage===n.value.lastPage:!0,R=async(d,x=p.value)=>{v(!0);try{const g=await Me.searchProducts({...d,lang:x});return m(g.meta),O.value=g.availableFilters,g.data||[]}catch(g){return console.error(g),[]}finally{v(!1)}},U=A(()=>k.value),V=A(()=>P.value),I=A(()=>n.value),_=A(()=>O.value);return{isEndScroll:w,setPageMeta:m,setMaxScrollTop:T,setCurrentPage:S,isLastPage:Q,setLoadNewPageValue:v,isLoading:U,getCurrentPage:V,getSearchMeta:I,getSearchFilters:_,loadNewPage:R}},Ge={key:0,class:"search-product"},He={class:"search-product_badge"},We={class:"search-product_price-wrapper"},ze={key:0,class:"search-product_action-price"},Ye={key:1,class:"search-product_action-price"},Je={class:"search-product_price"},Xe={key:2,class:"search-product_discount"},Ze={key:2,class:"search-product_credit-text"},et={__name:"search-product",props:{product:{type:Object,required:!0},showColor:{type:Boolean,default:!1}},setup(p){const l=p,{t:k}=re(),{currencyMark:n}=ve("",!0),{formatPriceWithSpaces:P}=ge(),O=A(()=>{var m;return(m=l.product)==null?void 0:m.images[0].url}),b=A(()=>l.product.price&&l.product.finalPrice<l.product.price&&l.product.priceCat4?l.product.finalPrice:l.product.price),w=A(()=>{var m,S;return((m=l.product)==null?void 0:m.finalPrice)&&l.product.featuredCredit&&((S=l.product.featuredCredit)==null?void 0:S.minMonthlyPayment)}),T=A(()=>{var m,S;return(m=l.product)!=null&&m.realNpiState?k("preorder"):k(((S=l.product)==null?void 0:S.realStock)>0?"buy_now":"notify_me")}),v=A(()=>{var m,S;return((m=l.product)==null?void 0:m.finalPrice)<((S=l.product)==null?void 0:S.price)});return(m,S)=>{var V,I;const Q=Ae,R=Te,U=Fe;return p.product?(y(),N("div",Ge,[E("div",null,[W(R,{link:m.localePath(`/product/${p.product.slug}`),name:p.product.name,"image-link":s(O)},{default:X(()=>[E("p",He,[W(Q,{product:p.product},null,8,["product"])])]),_:1},8,["link","name","image-link"])]),E("div",We,[p.product.price&&s(v)&&!p.product.priceCat4?(y(),N("p",ze,C(p.product.price)+"  "+C(s(n)),1)):D("",!0),p.product.priceCat4?(y(),N("p",Ye,C(s(b))+"  "+C(s(n)),1)):D("",!0),E("p",Je,[p.product.finalPrice&&!p.product.priceCat4?(y(),N("span",{key:0,class:ce(["search-product_price-value",{"carousel-product_price-value__discount":s(v)}])},C(s(P)(p.product.finalPrice))+" "+C(s(n)),3)):D("",!0),p.product.finalPrice&&p.product.priceCat4?(y(),N("span",{key:1,class:ce(["search-product_price-value",{"carousel-product_price-value__discount":s(v)}])},C(s(P)(p.product.priceCat4))+" "+C(s(n)),3)):D("",!0),s(v)?(y(),N("span",Xe,C(p.product.finalPrice-p.product.price)+"  "+C(s(n)),1)):D("",!0)]),s(w)?(y(),N("p",Ze,C(m.$t("credit_from"))+" "+C(s(P)((I=(V=p.product)==null?void 0:V.featuredCredit)==null?void 0:I.minMonthlyPayment))+" "+C(p.product.currency)+"/ "+C(m.$t("credit_mo"))+" "+C(m.$t("credit_for"))+" "+C(p.product.featuredCredit.maxTerm)+" "+C(m.$t("credit_months")),1)):D("",!0),W(U,{to:m.localePath(`/product/${p.product.slug}`),class:"search-product_button"},{default:X(()=>[ae(C(s(T)),1)]),_:1},8,["to"])])])):D("",!0)}}},tt={class:"search-filters"},rt={class:"search-filters_mobile-title"},at={key:0,class:"search-filters_header"},st={class:"search-filters_header-filter"},nt={class:"search-filters_filter-title"},ot={class:"search-filters_tags"},ct={class:"search-filters_items"},lt={class:"search-filters_button"},it=ie({__name:"search-filters",props:{filters:{},selectedFilters:{},loading:{type:Boolean},filterSelectedTags:{},minPrice:{},maxPrice:{}},emits:["onRemoveTag","onFilterChange","clearAllFilter","clearPriceFilter","updatePriceFilter"],setup(p,{emit:l}){const k=p,n=l,{t:P}=re(),{currencyMark:O}=ve("",!0),{formatPriceWithSpaces:b}=ge(),w=Ie(),T=M(0),v=M(400),m=M(!0),S=M(!1),Q=A(()=>w.getSelectedShop),R=A(()=>(k.minPrice!==null||k.maxPrice!==null)&&k.maxPrice!==0),U=c=>{if(c.stock){const u=Object.entries(c.stock).map(([L,a])=>({id:L==="inStock"?1:0,name:P(L==="inStock"?"in_stock":"out_of_stock"),docCount:a}));return{id:"stock",name:P("available"),buckets:u}}},V=c=>{if(c.vendors){const u=c.vendors.items.map(({value:L,count:a,name:r})=>({id:L,name:r,docCount:a}));return{id:"vendors",name:P("brand"),buckets:u}}},I=c=>c.features.groups?c.features.groups.map(u=>{var L,a;return{id:"features",name:u.name,selectedFilters:((a=(L=k.selectedFilters)==null?void 0:L.features)==null?void 0:a[u.name])||[],buckets:u.values.map(r=>({id:r.key,name:r.name,docCount:r.count}))}}):[],_=c=>{if(c.topLevelCategories){const u=c.topLevelCategories.items.map(({value:L,count:a,name:r})=>({id:L,name:r,docCount:a}));return{id:"topLevelCategories",name:P("top_level_categories"),buckets:u}}},d=A(()=>[U(k.filters),V(k.filters),_(k.filters)]),x=A(()=>I(k.filters)),g=A(()=>{var c;return{id:"getItFast",name:P("get_it_fast"),buckets:[{id:0,name:P("pickup"),description:((c=Q.value)==null?void 0:c.name)||P("select_your_store")},{id:1,name:P("product_shipping")}]}}),G=A(()=>v.value>0),Z=(c,u)=>k.selectedFilters?k.selectedFilters[xe(c,u,!0)]:[],H=()=>{n("clearPriceFilter")},ee=()=>{w.setSidebarOpened(!0)},J=c=>`${b(c)} ${O.value}`;return fe(()=>{T.value=Number(k.filters.minPrice.minPrice),v.value=Number(k.filters.maxPrice.maxPrice)}),(c,u)=>{var i,h,F;const L=De,a=Ne,r=Le,t=Ve,o=Pe;return y(),N("div",tt,[E("button",{class:"search-filters_toggle",onClick:u[0]||(u[0]=ke(e=>S.value=!0,["prevent"]))},[W(L,{class:"search-filters_toggle-icon",icon:"filterIcon"}),u[8]||(u[8]=ae(" Add filter "))]),E("div",{class:ce(["search-filters_content",{opened:s(S)}])},[E("button",{class:"search-filters_close",onClick:u[1]||(u[1]=e=>S.value=!1)},[W(L,{icon:"close"})]),E("span",rt,C(c.$t("filter")),1),c.filterSelectedTags&&((i=c.filterSelectedTags)==null?void 0:i.length)>0||s(R)?(y(),N("div",at,[E("div",st,[E("span",nt,C(c.$t("filter_by")),1),E("button",{class:"search-filters_clear",onClick:u[2]||(u[2]=e=>c.$emit("clearAllFilter"))},C(c.$t("clear_all")),1)]),E("div",ot,[(y(!0),N(te,null,oe(c.filterSelectedTags,e=>(y(),Y(a,{key:e.id,class:"search-filters_selected-tag",closable:"","onClick:close":$=>c.$emit("onRemoveTag",e.id,e.key,e.name)},{default:X(()=>[ae(C(e.name),1)]),_:2},1032,["onClick:close"]))),128)),s(R)?(y(),Y(a,{key:0,class:"search-filters_selected-tag",closable:"","onClick:close":H},{default:X(()=>[ae(C(`${J(c.minPrice)} - ${J(c.maxPrice)}`),1)]),_:1})):D("",!0)])])):D("",!0),E("div",ct,[W(r,{caption:s(g).name,"filter-id":s(g).id,"filter-name":s(g).name,"filter-items":s(g).buckets,disabled:((F=(h=c.selectedFilters)==null?void 0:h.stock)==null?void 0:F[0])===0,checked:Z(s(g).id,s(g).name),onOnFilterChange:u[3]||(u[3]=e=>c.$emit("onFilterChange",e)),onOnDescriptionItemClick:ee},null,8,["caption","filter-id","filter-name","filter-items","disabled","checked"]),s(d).length>0?(y(),N(te,{key:0},[(y(!0),N(te,null,oe(s(d),e=>(y(),Y(r,{key:`${e==null?void 0:e.id}${e==null?void 0:e.name}`,caption:e==null?void 0:e.name,"filter-id":e==null?void 0:e.id,"filter-name":e==null?void 0:e.name,"filter-items":e==null?void 0:e.buckets,"is-default-collapsed":!0,checked:e&&Z(e.id,e.name),onOnFilterChange:u[4]||(u[4]=$=>c.$emit("onFilterChange",$))},null,8,["caption","filter-id","filter-name","filter-items","checked"]))),128)),(y(!0),N(te,null,oe(s(x),e=>(y(),Y(r,{key:`${e==null?void 0:e.id}${e==null?void 0:e.name}`,caption:e==null?void 0:e.name,"filter-id":e==null?void 0:e.id,"filter-name":e==null?void 0:e.name,"filter-items":e==null?void 0:e.buckets,"is-default-collapsed":!0,checked:e.selectedFilters,onOnFilterChange:u[5]||(u[5]=$=>c.$emit("onFilterChange",$))},null,8,["caption","filter-id","filter-name","filter-items","checked"]))),128)),s(G)?(y(),Y(t,{key:0,"min-price":c.minPrice,"default-min-price":s(T),"max-price":c.maxPrice,"default-max-price":s(v),"is-loading":"loading"in c?c.loading:s(le),onUpdatePriceFilter:u[6]||(u[6]=e=>c.$emit("updatePriceFilter",e))},null,8,["min-price","default-min-price","max-price","default-max-price","is-loading"])):D("",!0)],64)):D("",!0)]),E("div",lt,[W(o,{disabled:!s(m),secondary:"","full-width":"",onClick:u[7]||(u[7]=e=>S.value=!1)},{default:X(()=>[ae(C(c.$t("apply")),1)]),_:1},8,["disabled"])])],2)])}}}),me={cheap:{sort_by:"final_price",sort_direction:"asc"},expensive:{sort_by:"final_price",sort_direction:"desc"},total_popular:{}},K="features",ye=()=>{const{t:p}=re(),l=ue(),k=he(),n=M({}),P=M(me.total_popular),O=M("total_popular"),b=M(null),w=M(null),T=M({}),v=M(null),m=21,{addFilterPrefixToKey:S,getKeyWithoutPrefix:Q,isExistFilterPrefix:R}=Oe(),U=a=>{P.value=me[a],O.value=a},V=a=>{v.value=a},I=a=>{b.value=a.min,w.value=a.max},_=()=>{n.value={},b.value=null,w.value=null},d=(a,r,t)=>{const o=n.value[r];if(!o)return;const i=new Set(Array.isArray(a)?a:[a]),h=(f,q,z)=>{n.value[z]=f.filter(j=>Array.isArray(j)?!j.every(B=>q.has(B)):!q.has(j))},F=(f,q,z,j)=>{const B=e(j);!B||!f[B]||(f[B]=f[B].filter(ne=>!q.has(ne)),f[B].length===0&&delete f[B])},e=f=>{if(typeof f!="string")return null;const[q]=f.split(":");return(q==null?void 0:q.trim().length)>=2?q.trim():f},$=f=>{const q=n.value[f];(!q||Array.isArray(q)&&q.length===0||typeof q=="object"&&Object.keys(q).length===0)&&delete n.value[f]};Array.isArray(o)?h(o,i,r):F(o,i,r,t),$(r)},x=a=>{const r=T.value[a];if(!r)return{};const t=i=>i.split(",").map(Number).filter(h=>!isNaN(h));let o=[];return Array.isArray(r)?o=r.map(t):a.includes(K)||(o=t(r)),(o==null?void 0:o.length)>0?{[a]:o}:{}},g=()=>{function a(t){const o={};for(const[i,h]of Object.entries(t)){const F=i.match(/^features\[(.*?)\]$/);if(F){const e=F[1],$=String(h).split(",").map(f=>f.trim()).filter(f=>f!=="");o[e]=$}}return o}const r=Object.keys(T.value);if(r.length>0){const t=new Set(["page","text","filter_price[max]","filter_price[min]"]);let o={};r.some(i=>i.includes(K))&&(o={[K]:a(T.value)}),r.forEach(i=>{t.has(i.toLowerCase())||(n.value={...n.value,...x(i),...o})})}},G=a=>{const r=i=>t===K?{...n.value[K],[a.name]:a.value}:i.map(Number),t=a.id.toLowerCase(),o=r(a.value);n.value={...n.value,[t]:o}},Z=A(()=>{if(!v.value||!n.value[K])return[];const a=new Map(v.value[K].groups.map(r=>[r.name,r]));return Object.entries(n.value[K]).map(([r,t])=>{const o=a.get(r);if(!o)return null;const i=t.flatMap(h=>{var F;return((F=o.values.find(e=>e.key===h))==null?void 0:F.values)||[]});return i.length>0?i:null}).filter(Boolean)}),H=A(()=>{if(!v.value)return[];const a={toplevelcategories:"top_level_categories",vendors:"brand"},r=e=>new Map((e==null?void 0:e.map($=>[$.value,$]))||[]),t=(e,$,f,q)=>{const z=r(f.items);$.forEach(j=>{const B=z.get(Number(j));B&&q.push({id:B.value,name:`${p(a[e])}: ${B.name}`,key:e})})},o=(e,$)=>{e.forEach(f=>{$.push({id:f,name:`${p("available")}: ${p(f?"in_stock":"out_of_stock")}`,key:"stock"})})},i=(e,$)=>{const f=Object.entries(e).flatMap(([q,z])=>z.map(j=>{const B=J(q,j);return B?{id:j,name:`${q}: ${B.name}`,key:K}:null}).filter(Boolean));$.push(...f)},h=[],F=ee(v.value);for(const[e,$]of Object.entries(n.value)){const f=F[e.toLowerCase()];if(f)switch(!0){case e==="stock":o($,h);break;case e.includes(K):i($,h);break;default:t(e,$,f,h)}}return h}),ee=a=>Object.entries(a).reduce((r,[t,o])=>(r[t.toLowerCase()]=o,r),{}),J=(a,r)=>{var o,i,h;const t=(i=(o=v.value[K])==null?void 0:o.groups)==null?void 0:i.find(F=>F.name===a);return(h=t==null?void 0:t.values)==null?void 0:h.find(F=>F.key===r)},c=A(()=>{const a={};return Object.entries(n.value).forEach(([r,t])=>{if(t){if(r==="stock"&&t.length===2)return;if(r===K){const o=S(r);Object.entries(t).forEach(([i,h])=>{const F=Array.isArray(h)&&h.length?h.join():h;a[`${o}[${i}]`]=F})}else{const o=S(r),i=Array.isArray(t)&&t.length?t.join():t;a[o]=i}}}),a}),u=(a=1)=>{var o,i,h,F,e,$,f,q,z,j,B,ne,de;const r=!!((i=(o=n.value)==null?void 0:o.stock)!=null&&i[0]),t=!!((F=(h=n.value)==null?void 0:h.getitfast)!=null&&F[0]);return{page:a,limit:m,...P.value,...((e=n.value)==null?void 0:e.toplevelcategories)&&{"filters[categories]":n.value.toplevelcategories},...(($=n.value)==null?void 0:$.vendors)&&{"filters[vendors]":n.value.vendors},...((q=(f=n.value)==null?void 0:f.stock)==null?void 0:q.length)===1&&{[`filters[stock][${r?"in_stock":"out_of_stock"}]`]:1},...((j=(z=n.value)==null?void 0:z.getitfast)==null?void 0:j.length)===1&&{[`filters[get_it_fast][${t?"pickup":"shipping"}]`]:1},...((ne=(B=n.value)==null?void 0:B.getitfast)==null?void 0:ne.length)===2&&{"filters[get_it_fast][pickup]":1,"filters[get_it_fast][shipping]":1},...((de=n.value)==null?void 0:de[K])&&{"filters[features]":Z.value},...b.value&&{"filters[price][min]":b.value},...w.value&&{"filters[price][max]":w.value}}},L=(a=1)=>{n.value=Ee(n.value);const r={...T.value.text&&{query:T.value.text},...c.value,...b.value&&{"filter_price[min]":b.value},...w.value&&{"filter_price[max]":w.value},...a!==1&&{page:a}};k.push({query:r})};return se(()=>l.query,()=>{var a;(a=l.query)!=null&&a.query&&(T.value.text=l.query.query);for(const r of Object.keys(l.query)){if(!R(r))continue;const t=Q(r);if(t==="price[max]"){w.value=l.query[r];continue}if(t==="price[min]"){b.value=l.query[r];continue}t&&(T.value[t]=l.query[r])}},{immediate:!0}),g(),{allFilters:v,selectedFilters:n,minPriceVal:b,maxPriceVal:w,sortValue:P,sortName:O,filterSelectedTags:H,removeFilterById:d,setAllFilters:V,clearFilter:_,setPriceFilterValue:I,changeSorting:U,addQueryToRoute:L,updateSelectedFilters:G,getQueryParams:u}},ut=ie({__name:"search-grid",props:{products:{},searchFilters:{},searchMeta:{},loading:{type:Boolean}},emits:["getSearchData"],setup(p,{emit:l}){const k=p,n=l,P=ue(),O=he(),b=be(),{t:w,locale:T}=re(),v=M([{label:w("search_sort_relevance"),value:"total_popular"},{label:w("search_sort_cheap"),value:"cheap"},{label:w("search_sort_expensive"),value:"expensive"}]),m=A({get(){var t;return(t=k.searchMeta)==null?void 0:t.currentPage},set(t){c(Number(t))}}),{minPriceVal:S,maxPriceVal:Q,filterSelectedTags:R,setPriceFilterValue:U,addQueryToRoute:V,selectedFilters:I,updateSelectedFilters:_,setAllFilters:d,removeFilterById:x,clearFilter:g,changeSorting:G,sortName:Z,getQueryParams:H}=ye(),ee=({min:t,max:o})=>{U({min:t,max:o}),V(),n("getSearchData",{params:H()})},J=()=>{ee({min:null,max:null})},c=t=>{V(t),n("getSearchData",{params:H(t)})},u=t=>{G(t),n("getSearchData",{params:H(1)})},L=(t,o,i)=>{x(t,o,i),V(),n("getSearchData",{params:H(1)})},a=t=>{_(t),V(),n("getSearchData",{params:H()})},r=()=>{g(),V(),n("getSearchData",{params:H()})};return se(()=>k.searchFilters,t=>{d(t)},{immediate:!0}),se(()=>{var t;return(t=P.query)==null?void 0:t.query},()=>{g(),n("getSearchData",{params:H()})}),se(T,()=>{var t;O.push(b.$localeRoute({query:{query:(t=P.query)==null?void 0:t.query}})),g(),n("getSearchData",{params:H()})}),(t,o)=>{var h;const i=et;return y(),N(te,null,[W(Re,{products:t.products,loading:"loading"in t?t.loading:s(le),total:((h=t.searchMeta)==null?void 0:h.total)||0,"dropdown-sort-items":s(v),"sort-name":s(Z),"filter-selected-tags":s(R)||[],"min-price":s(S),"max-price":s(Q),onOnRemoveTag:L,onClearAllFilter:r,onHandleSortChange:u,onClearPriceFilter:J},{filter:X(()=>[t.searchFilters?(y(),Y(it,{key:0,"min-price":s(S),"max-price":s(Q),filters:t.searchFilters,"selected-filters":s(I),"filter-selected-tags":s(R),onOnRemoveTag:L,onClearAllFilter:r,onClearPriceFilter:J,onUpdatePriceFilter:ee,onOnFilterChange:a},null,8,["min-price","max-price","filters","selected-filters","filter-selected-tags"])):D("",!0)]),product:X(()=>[(y(!0),N(te,null,oe(t.products,F=>(y(),Y(i,{key:F.id,product:F},null,8,["product"]))),128))]),_:1},8,["products","loading","total","dropdown-sort-items","sort-name","filter-selected-tags","min-price","max-price"]),t.searchMeta&&t.searchMeta.lastPage>1?(y(),Y(Be,{key:0,modelValue:s(m),"onUpdate:modelValue":o[0]||(o[0]=F=>Se(m)?m.value=F:null),length:t.searchMeta.lastPage,disabled:"loading"in t?t.loading:s(le),class:"search-grid_pagination"},null,8,["modelValue","length","disabled"])):D("",!0)],64)}}}),dt={key:0},pt={key:0,class:"search_banner-container"},mt={class:"search_title"},ft={class:"search_grid"},ht={key:1},Gt=ie({__name:"index",setup(p){const l=ue(),{t:k}=re(),{pushGtmEvent:n}=$e(),P=M(null),O=M([]),b=M(null),{getQueryParams:w,setAllFilters:T}=ye(),{setLoadNewPageValue:v,getSearchMeta:m,loadNewPage:S,isLoading:Q,getSearchFilters:R}=Ue(),{fetchError:U}=Qe(),V=async()=>{var _;if(await we(),P.value){const d=(_=P.value)==null?void 0:_.getBoundingClientRect();je(d.top)}},I=async({searchQuery:_=(x=>(x=l.query)==null?void 0:x.query)(),params:d})=>{try{v(!0);const g=d?Ke(d):{};O.value=await S({...g,query:_}),n("viewSearchResults",[...O.value||[]],{search:_}),V()}catch(g){console.error(g)}finally{v(!1)}};return Ce(async()=>{var _;v(!0),await S({query:(_=l.query)==null?void 0:_.query}),T(R.value),v(!1)}),fe(async()=>{var x,g,G;v(!0);const _={...w(Number((x=l.query)==null?void 0:x.page)||1)},{data:d}=await pe.searchBanner({query:(g=l.query)==null?void 0:g.query});b.value=d==null?void 0:d.data,I({searchQuery:(G=l.query)==null?void 0:G.query,params:_}),n("pageview")}),se(()=>{var _;return(_=l.query)==null?void 0:_.query},async()=>{var d;const{data:_}=await pe.searchBanner({query:(d=l.query)==null?void 0:d.query});b.value=_==null?void 0:_.data}),(_,d)=>{const x=_e,g=qe("AppError");return s(U)?(y(),N("div",ht,[W(g,{error:{statusCode:s(U)}},null,8,["error"])])):(y(),N("div",dt,[s(b)?(y(),N("div",pt,[(y(),Y(x,{key:s(b).name,class:"search_banner",banner:s(b)},null,8,["banner"]))])):D("",!0),E("h2",mt,C(s(k)("search_results")),1),E("div",ft,[W(ut,{products:s(O),"search-filters":s(R),"search-meta":s(m),loading:s(Q),onGetSearchData:d[0]||(d[0]=G=>I(G))},null,8,["products","search-filters","search-meta","loading"])])]))}}});export{Gt as default};
